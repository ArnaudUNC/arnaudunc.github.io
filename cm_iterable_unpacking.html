<!DOCTYPE html>
<html lang="fr">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Iterable unpacking | Algo et prog 2 en Python</title>
	<link href="prism.css" rel="stylesheet"/>
	<link href="style.css" rel="stylesheet"/>
	<!--link rel="icon" href="img/favicon.svg"-->
	<link rel="icon"
			href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='200' height='200' viewBox='0 0 100 100' style='display:block; margin:auto; padding: 0 0 1em 0;'%3E%3Cstyle%3E text %7B text-align: center; fill: white; text-anchor: middle; font-size: 11pt; %3C/style%3E%3Crect fill='hsl(000,50%25, 50%25)' x='0' y='0' width='100' height='100'%3E%3C/rect%3E%3C!--	%3Crect fill='hsl(200,50%25, 50%25)' x='0' y='0' width='100' height='100'%3E%3C/rect%3E--%3E%3Ctext x='50' y='75' style='font-size: 50pt;' id='t'%3E 🐍 %3C/text%3E%3C!--	%3Canimate--%3E%3C!-- xlink:href='%23t'--%3E%3C!-- attributeName='y'--%3E%3C!-- calcMode='spline'--%3E%3C!-- values='60; 90; 60'--%3E%3C!-- keyTimes='0; 0.5; 1'--%3E%3C!-- keySplines='--%3E%3C!-- .42 0 1 1;--%3E%3C!-- 0 0 .59 1;'--%3E%3C!-- dur='2s'--%3E%3C!-- fill='freeze'--%3E%3C!-- repeatCount='indefinite'/%3E--%3E%3C/svg%3E">
</head>
<body>
<div id="conteneur">
	<div id="side_nav_bar">
		<!--svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 100 100" style="display:block; margin:auto; padding: 0 0 1em 0;">
	<style>
		text {
			text-align: center;
			fill: white;
			text-anchor: middle;
			font-size: 11pt;
		}
	</style>
	<rect fill="#4B8BBE" x="0" y="0" width="100" height="100"></rect>
	<text x="50" y="45" style="font-size: 30pt;">
		🐍

	</text>
	<text x="50" y="75" fill="#FFE873">
		Algo et prog 2
	</text>
	<text x="50" y="90" fill="#FFE873">
		en Python
	</text>
</svg-->

<div style="color:#4B8BBE; font-size: 200%; padding: 2%; text-align: center">
	Algo. et prog. 2 en
</div>
<img src="img/python-logo-generic.png" alt="Logo de Python" style="width: 100%; max-width: 19em; display:block; margin:auto;">
<div style="text-align: center; opacity: 0.5; font-size: small">Arnaud COUTURIER - Python 3.10</div>


























		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="index.html">
				Introduction
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_pass.html">
				L'instruction pass
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_exceptions.html">
				Les exceptions
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_spec_impl_versions.html">
				Spécification, implémentations et versions
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_methodes_exec.html">
				Façons d'exécuter un programme Python
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_memoire_donnees.html">
				Mémoire et modèle de données
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_prog_objets.html">
				Programmation objets
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_namespaces_modules.html">
				Namespaces et modules
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_sequences.html">
				Les séquences
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_iterables.html">
				Iterables, iterators
			</a>
		</div>

		<div class="page_actuelle h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="cm_iterable_unpacking.html">
				Iterable unpacking
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="cm_boucles_avancees.html">
				Techniques avancées sur les boucles
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="cm_fonc_params.html">
				Fonctions et paramètres
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="cm_dict_set.html">
				Hash et dictionnaires
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="cm_compr_listes.html">
				Compréhension de listes
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="cm_manip_fich_texte.html">
				Manipulation de fichiers texte
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="td1.html">
				✍️ TD 1 - Calculatrice niv.1 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="tp1.html">
				✏️ TP 1 - Calculatrice niv.2 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="td2.html">
				✍️ TD 2 - Prog. objets niv.1 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="tp2.html">
				✏️ TP 2 - Calculatrice niv.3 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="cc1_2023.html">
				📝 Contrôle continu 1 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="td3.html">
				✍️ TD 3 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="tp3.html">
				✏️ TP 3 - Calculatrice niv.4 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="tp4.html">
				✏️ TP 4 - Prog. objets niv.2 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="tp5.html">
				✏️ TP 5 - Prog. objets niv.3
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="tp6.html">
				✏️ TP 6 - Prog. objets niv.4
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="tp7.html">
				✏️ TP 7 - Prog. objets niv.5
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="tp_boutique_1.html">
				✏️ TP 8 - Boutique niv.1
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="tp_boutique_2.html">
				✏️ TP 9 - Boutique niv.2
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="cc3_2023.html">
				📝 Contrôle continu 3
			</a>
		</div>

	</div>
	<div id="contenu">
		


		
	
	<h1 data-nb="11" id="Iterable unpacking">Iterable unpacking</h1>

	

	<p>On appelle <em>iterable unpacking</em> (on peut dire aussi <em>tuple unpacking</em>) une opération qui consiste à affecter, à plusieurs variables en même
		temps, contenues dans un tuple ou une liste, le contenu d'un iterable, en une seule opération d'affectation. Exemple:</p>
<pre><code class="language-python-python-console">
		&gt;&gt;&gt; (a, b, c) = (10, 20, 30)
		&gt;&gt;&gt; a
		10
		&gt;&gt;&gt; b
		20
		&gt;&gt;&gt; c
		30
	</code></pre>
<p>Les tuples pouvant s'écrire sans parenthèses (à part dans certaines circonstances où les parenthèses sont utiles pour délimiter le tuple, comme lorsqu'il
		est passé en paramètre d'une fonction), on peut aussi écrire des 2 façons équivalentes ci-dessous:</p>
<pre><code class="language-python-python-console">
		&gt;&gt;&gt; a, b, c = (10, 20, 30)
		&gt;&gt;&gt; a, b, c = 10, 20, 30
	</code></pre>
<p>A gauche du signe <code>=</code> peut être une liste également, dans ce cas les crochets sont obligatoires (sinon ça serait un tuple par défaut):</p>
<pre><code class="language-python-python-console">
		&gt;&gt;&gt; [a, b, c] = 10, 20, 30
	</code></pre>
<p>A droit du signe <code>=</code> peut être n'importe quel <code>iterable</code>:</p>
<pre><code class="language-python-python-console">
		&gt;&gt;&gt; a, b, c = [10, 20, 30]
		&gt;&gt;&gt; a, b, c = range(3)
		&gt;&gt;&gt; a
		0
		&gt;&gt;&gt; b
		1
		&gt;&gt;&gt; c
		2
		&gt;&gt;&gt; a, b, c = "hey"
		&gt;&gt;&gt; a
		'h'
		&gt;&gt;&gt; b
		'e'
		&gt;&gt;&gt; c
		'y'
	</code></pre>
<p>L'iterable à droit du signe <code>=</code> peut contenir des éléments plus complexes, cela ne change rien au mécanisme d'unpacking, par exemple un tuple
		de tuples:</p>
<pre><code class="language-python-python-console">
		&gt;&gt;&gt; a, b, c = (10, 20), (30, 40), (50, 60)
		&gt;&gt;&gt; a
		(10, 20)
		&gt;&gt;&gt; b
		(30, 40)
		&gt;&gt;&gt; c
		(50, 60)
	</code></pre>
<p>S'il y a trop ou pas assez de valeurs à "unpacker" (si on peut transformer le mot anglais <em>unpack</em> en verbe français), on a une erreur explicite:
	</p>
<pre><code class="language-python-python-console">
		&gt;&gt;&gt; a, b = 1, 2, 3
		ValueError: too many values to unpack (expected 2)

		&gt;&gt;&gt; a, b, c = 1, 2
		ValueError: not enough values to unpack (expected 3, got 2)
	</code></pre>
<h2 data-nb="11.1" id="Opérateur *">Opérateur *</h2>
<p>Dans le cas précédent où il y a trop de valeurs, on peut utiliser l'opérateur <code>*</code>. Dans ce contexte cet opérateur s'appelle <em>l'opérateur
		d'unpacking</em>, il permet d'assigner plusieurs valeurs à une seule variable, cela est possible en faisant pointer cette variable vers une nouvelle
		liste qui contiendra toutes les valeurs correspondantes. Le terme exact en Python pour cet opérateur est <em>starred expression</em> (expression
		étoilée). Exemple:</p>
<pre><code class="language-python-python-console">
		&gt;&gt;&gt; a, *b = 1, 2, 3
		&gt;&gt;&gt; a
		1
		&gt;&gt;&gt; b
		[2, 3]

		&gt;&gt;&gt; a, b, *c = 1, 2, 3
		&gt;&gt;&gt; a
		1
		&gt;&gt;&gt; b
		2
		&gt;&gt;&gt; c
		[3]

		&gt;&gt;&gt; *a, = 1, 2, 3
		&gt;&gt;&gt; a
		[1, 2, 3]
	</code></pre>
<p>Dans le dernier exemple ↑ on écrit <code>*a, = 1, 2, 3</code> et non pas <code>*a = 1, 2, 3</code> car c'est imposé par la syntaxe des littéraux pour les
		tuples: un tuple contenant un seul élément doit obligatoirement avoir une virgule avant la fin, sinon on pourrait confondre avec les parenthèses de
		priorité des opérations si le tuple a des parenthèses, ou bien avec une expression hors d'un tuple si le tuple n'a pas de parenthèses.</p>
<p>Les variables sans <code>*</code> sont prioritaires sur celle avec <code>*</code>, de sorte que l'* ne "capte" pas toutes les valeurs, par exemple:</p>
<pre><code class="language-python-python-console">
		&gt;&gt;&gt; *a, b = 1, 2, 3
		&gt;&gt;&gt; a
		[1, 2]
		&gt;&gt;&gt; b
		3

		&gt;&gt;&gt; a, *b, c = 1, 2, 3
		&gt;&gt;&gt; a
		1
		&gt;&gt;&gt; b
		[2]
		&gt;&gt;&gt; c
		3

		&gt;&gt;&gt; a, *b, c = 1, 2, 3, 4
		&gt;&gt;&gt; a
		1
		&gt;&gt;&gt; b
		[2, 3]
		&gt;&gt;&gt; c
		4

		&gt;&gt;&gt; a, *b, c = 1, 2
		&gt;&gt;&gt; a
		1
		&gt;&gt;&gt; b
		[]
		&gt;&gt;&gt; c
		2
	</code></pre>
<p>Il est impossible d'utiliser plusieurs <code>*</code> dans une même expression:</p>
<pre><code class="language-python-python-console">
		&gt;&gt;&gt; *a, *b = 1, 2, 3
		SyntaxError: multiple starred expressions in assignment
	</code></pre>
<p>La fonctionnalité d'iterable unpacking est utile en soi, mais aussi dans certaines situations particulières que nous verrons plus loin dans ce cours.</p>


		<div class="nav_arrows" style=" margin-bottom: 1em;">

			<div style="text-align: center; opacity: 0.5; font-size: small">

			</div>
		</div>

	</div>

	
		<style>
			@media only screen and (min-width: 70em) {
				#side_nav_bar {
					width: 25vw;
				}

				#contenu {
					width: 75vw;
				}
			}
		</style>
	


</div>
  
<script src="prism.js"></script>

<script>
	if (document.URL.indexOf("localhost") === -1) {
		//console.log("pas localhost");
		document.querySelector("link[rel = 'icon']").setAttribute("href", "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='200' height='200' viewBox='0 0 100 100' style='display:block; margin:auto; padding: 0 0 1em 0;'%3E%3Cstyle%3E text %7B text-align: center; fill: white; text-anchor: middle; font-size: 11pt; %3C/style%3E%3C!--	%3Crect fill='hsl(000,50%25, 50%25)' x='0' y='0' width='100' height='100'%3E%3C/rect%3E--%3E%3Crect fill='hsl(200,50%25, 50%25)' x='0' y='0' width='100' height='100'%3E%3C/rect%3E%3Ctext x='50' y='75' style='font-size: 50pt;' id='t'%3E 🐍 %3C/text%3E%3C!--	%3Canimate--%3E%3C!-- xlink:href='%23t'--%3E%3C!-- attributeName='y'--%3E%3C!-- calcMode='spline'--%3E%3C!-- values='60; 90; 60'--%3E%3C!-- keyTimes='0; 0.5; 1'--%3E%3C!-- keySplines='--%3E%3C!-- .42 0 1 1;--%3E%3C!-- 0 0 .59 1;'--%3E%3C!-- dur='2s'--%3E%3C!-- fill='freeze'--%3E%3C!-- repeatCount='indefinite'/%3E--%3E%3C/svg%3E");
	} else {
		//console.log("localhost");
	}
	// On supprime la première ligne des <pre><code> qui est considérée toujours vide et inutile
	const codes = document.querySelectorAll('pre[class="affichage_console"] code');
	
	codes.forEach(function (el) {
		// Attention: modifier textContent ou innerText d'un élément détruit tous ses éléments enfant :(
		//el.textContent = el.textContent.replace(/^\n/, '');
		// On modifie donc le premie noeud texte uniquement
		el.childNodes[0].textContent = el.childNodes[0].textContent.replace(/^\n/, ''); // suppose que c'est un élément texte
	});

	// On ajoute un <br> avant et après chaque <pre>
	let pres = document.querySelectorAll('pre, .exercices div.noté');
	pres.forEach(function (el) {
		el.parentNode.insertBefore(document.createElement('div'), el);
		el.parentNode.insertBefore(document.createElement('div'), el.nextSibling);
	});

	// On ajoute 'Affichage' avant chaque affichage console
	pres = document.querySelectorAll('pre[class="affichage_console"]');
	pres.forEach(function (el) {
		const p = document.createElement('p');
		p.innerHTML = `<small>↓ Affichage dans la console (ou dans le shell, selon où vous lancez l'exécution)<mall>`;
		p.classList.add("légende_placée_en_haut");
		el.parentNode.insertBefore(p, el);
	});

	// Cacher corrections dans les TD / TP, et permettre de les afficher
	let divs_correction = document.querySelectorAll('div[class="correction"]');
	divs_correction.forEach(function (div) {
		div.classList.add("correction_hidden");
		const p = document.createElement('p');
		p.innerHTML = `<span class="correction_lien_à_cliquer">📝 Afficher / cacher correction ✓</span>`;
		p.onclick = function (evt) {
			div.classList.toggle("correction_hidden");
		};
		div.parentNode.insertBefore(p, div);
	});
</script>
</body>
</html>