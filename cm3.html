<!DOCTYPE html>
<html lang="fr">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>📖 Cours 3: fonctionnalités de Python | Algo et prog 2 en Python</title>
	<link href="prism.css" rel="stylesheet"/>
	<link href="style.css" rel="stylesheet"/>
	<!--link rel="icon" href="img/favicon.svg"-->
	<link rel="icon"
			href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='200' height='200' viewBox='0 0 100 100' style='display:block; margin:auto; padding: 0 0 1em 0;'%3E%3Cstyle%3E text %7B text-align: center; fill: white; text-anchor: middle; font-size: 11pt; %3C/style%3E%3Crect fill='hsl(000,50%25, 50%25)' x='0' y='0' width='100' height='100'%3E%3C/rect%3E%3C!--	%3Crect fill='hsl(200,50%25, 50%25)' x='0' y='0' width='100' height='100'%3E%3C/rect%3E--%3E%3Ctext x='50' y='75' style='font-size: 50pt;' id='t'%3E 🐍 %3C/text%3E%3C!--	%3Canimate--%3E%3C!-- xlink:href='%23t'--%3E%3C!-- attributeName='y'--%3E%3C!-- calcMode='spline'--%3E%3C!-- values='60; 90; 60'--%3E%3C!-- keyTimes='0; 0.5; 1'--%3E%3C!-- keySplines='--%3E%3C!-- .42 0 1 1;--%3E%3C!-- 0 0 .59 1;'--%3E%3C!-- dur='2s'--%3E%3C!-- fill='freeze'--%3E%3C!-- repeatCount='indefinite'/%3E--%3E%3C/svg%3E">
</head>
<body>
<div id="conteneur">
	<div id="side_nav_bar">
		<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 100 100" style="display:block; margin:auto; padding: 0 0 1em 0;">
	<style>
		text {
			text-align: center;
			fill: white;
			text-anchor: middle;
			font-size: 11pt;
		}
	</style>
	<rect fill="hsl(200,50%, 50%)" x="0" y="0" width="100" height="100"></rect>
	<text x="50" y="45" style="font-size: 30pt;">
		🐍

	</text>
	<text x="50" y="75">
		Algo et prog 2
	</text>
	<text x="50" y="90">
		en Python
	</text>
</svg>

	
			<div class="h h1">
				<!--span class="ballot_box">☒</span-->
				<a href="index.html#Introduction">
					Introduction
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">☒</span-->
				<a href="groupes.html#Groupes de TD / TP">
					Groupes de TD / TP
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">☒</span-->
				<a href="cm1.html#📖 Cours 1: rappels">
					📖 Cours 1: rappels
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">☒</span-->
				<a href="td1.html#✏️ TD 1 - Calculatrice niv.1 ✔️">
					✏️ TD 1 - Calculatrice niv.1 ✔️
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">☒</span-->
				<a href="tp1.html#✏️ TP 1 - Calculatrice niv.2 ✔️">
					✏️ TP 1 - Calculatrice niv.2 ✔️
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">☒</span-->
				<a href="tp2.html#✏️ TP 2 - Calculatrice niv.3 ✔️">
					✏️ TP 2 - Calculatrice niv.3 ✔️
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">☒</span-->
				<a href="tp3.html#✏️ TP 3 - Calculatrice niv.4 ✔️">
					✏️ TP 3 - Calculatrice niv.4 ✔️
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">☒</span-->
				<a href="cm2.html#📖 Cours 2: Programmation orientée objets">
					📖 Cours 2: Programmation orientée objets
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">☒</span-->
				<a href="td2.html#✏️ TD 2 - Prog. objets niv.1 ✔️">
					✏️ TD 2 - Prog. objets niv.1 ✔️
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">☒</span-->
				<a href="tp4.html#✏️ TP 4 - Prog. objets niv.2 ✔️">
					✏️ TP 4 - Prog. objets niv.2 ✔️
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">☒</span-->
				<a href="tp5.html#✏️ TP 5 - Prog. objets niv.3 ✔️">
					✏️ TP 5 - Prog. objets niv.3 ✔️
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">☒</span-->
				<a href="tp6.html#✏️ TP 6 - Prog. objets niv.4 ✔️">
					✏️ TP 6 - Prog. objets niv.4 ✔️
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">☒</span-->
				<a href="tp7.html#✏️ TP 7 - Prog. objets niv.5 ✔️">
					✏️ TP 7 - Prog. objets niv.5 ✔️
				</a>
			</div>
	

	
			<div class="page_actuelle h h1">
				<!--span class="ballot_box">☐</span-->
				<a href="#📖 Cours 3: fonctionnalités de Python">
					📖 Cours 3: fonctionnalités de Python
				</a>
			</div>
			<div class="page_actuelle h h2">
				<!--span class="ballot_box">☐</span-->
				<a href="#Modules">
					Modules
				</a>
			</div>
			<div class="page_actuelle h h2">
				<!--span class="ballot_box">☐</span-->
				<a href="#Bibliothèque standard de Python">
					Bibliothèque standard de Python
				</a>
			</div>
			<div class="page_actuelle h h2">
				<!--span class="ballot_box">☐</span-->
				<a href="#Mutabilité des données">
					Mutabilité des données
				</a>
			</div>
			<div class="page_actuelle h h2">
				<!--span class="ballot_box">☐</span-->
				<a href="#Les dictionnaires">
					Les dictionnaires
				</a>
			</div>
			<div class="page_actuelle h h2">
				<!--span class="ballot_box">☐</span-->
				<a href="#Valeur par défaut des paramètres des fonctions">
					Valeur par défaut des paramètres des fonctions
				</a>
			</div>
			<div class="page_actuelle h h2">
				<!--span class="ballot_box">☐</span-->
				<a href="#Passage de paramètres des fonctions par leur nom">
					Passage de paramètres des fonctions par leur nom
				</a>
			</div>
			<div class="page_actuelle h h2">
				<!--span class="ballot_box">☐</span-->
				<a href="#La portée des variables">
					La portée des variables
				</a>
			</div>
			<div class="page_actuelle h h3">
				<!--span class="ballot_box">☐</span-->
				<a href="#Dans un module: les variables globales">
					Dans un module: les variables globales
				</a>
			</div>
			<div class="page_actuelle h h3">
				<!--span class="ballot_box">☐</span-->
				<a href="#Dans les fonctions: les variables locales">
					Dans les fonctions: les variables locales
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">☐</span-->
				<a href="td3.html#✏️ TD 3 ✔️">
					✏️ TD 3 ✔️
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">☐</span-->
				<a href="cm4.html#📖 Cours 4: rappels et compléments">
					📖 Cours 4: rappels et compléments
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">☐</span-->
				<a href="tp8.html#✏️ TP 8 ✔️">
					✏️ TP 8 ✔️
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">☐</span-->
				<a href="tp9.html#✏️ TP 9 - Jeu du pendu niv.1">
					✏️ TP 9 - Jeu du pendu niv.1
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">☐</span-->
				<a href="tp10.html#✏️ TP 10 - Jeu du pendu niv.2">
					✏️ TP 10 - Jeu du pendu niv.2
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">☐</span-->
				<a href="exos_notes.html#📝 Exercices notés">
					📝 Exercices notés
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">☐</span-->
				<a href="cc1_2021.html#📝 Contrôle continu 1">
					📝 Contrôle continu 1
				</a>
			</div>
	

	</div>
	<div id="contenu">
		

		<div class="nav_arrows">
		<div style="display: flex; flex-direction: row; justify-content: space-between; padding: 1em 0em;">
				<span>
					
						<a href="tp7.html">← Page précédente</a>
					
				</span>
			
				<span style="padding: 0 .5em;">
						<a href="index.html">1ère page</a>
					</span>
			
			<span>
				
					<a href="td3.html">Page suivante →</a>
				
				</span>
		</div>
		</div>
		<hr>

		
	<h1 data-nb="14" id="📖 Cours 3: fonctionnalités de Python">📖 Cours 3: fonctionnalités de Python</h1>
<h2 data-nb="14.1" id="Modules">Modules</h2>
<p>Jusqu’ici on a créé des programmes Python dans un seul fichier <code>.py</code>. Au fur et à mesure qu’un programme devient long et complexe, le fichier
		devient difficile à naviguer et à lire, à ce moment on sépare le code dans plusieurs fichiers <code>.py</code>. </p>
<p>Le mécanisme de Python qui permet de faire cela est celui des modules. On appelle module un fichier <code>.py</code> tout simplement.</p>
<p>Soit les deux modules suivants dans un même dossier:</p>
<pre><code class="language-treeview">
		Un dossier/
		|-- modA.py
		|-- modB.py
	</code></pre>
<pre><code class="language-python">
		# Ceci est le fichier modA.py
		# C'est donc le module modA

		variable = 'Bonjour modA'

		def f():
			print("Une fonction dans modA")
	</code></pre>
<pre><code class="language-python">
		# Ceci est le fichier modB.py
		# C'est donc le module modB

		# On importe modA
		import modA # &lt;= remarquez qu'on ne met pas .py à la fin

		variable = 'Bonjour modB'

		print(variable) # Affichera 'Bonjour modB'
		print(modA.variable) # Affichera 'Bonjour modA'
		modA.f() # Affichera 'Une fonction dans modA'
	</code></pre>
<p>Avec l'instruction <code>import</code>, que l'on place généralement tout en haut d'un fichier, on peut importer un module dans un autre, pour avoir
		ensuite accès à ses variables et fonctions, en préfixant leur nom par celui du module suivi d'un point, comme par exemple <code>modA.variable</code>.
		Remarquez qu'on peut avoir des variables et fonctions ayant le même nom mais dans des modules différents, elles sont alors différentes.</p>
<p>Le nom du module importé devient une variable de type <code>module</code>:</p>
<pre><code class="language-python">
		# Ceci est le fichier modB.py
		import modA

		print(modA)
		print(type(modA))
	</code></pre>
<p>Executons modB.py:</p>
<pre class="affichage_console"><code>
&lt;module 'modA' from 'C:\\Users\\Arnaud\\Desktop\\modA.py'&gt;
&lt;class 'module'&gt;
&gt;</code></pre>
<p>Attention à ne pas créer de boucles dans les importations, c'est à dire deux modules ou plus qui s'importent mutuellement:</p>
<pre><code class="language-python">
		# Ceci est le fichier modA.py
		import modB # &lt;= ERREUR: boucle avec import dans modB
	</code></pre>
<pre><code class="language-python">
		# Ceci est le fichier modB.py
		import modA # &lt;= ERREUR: boucle avec import dans modA
	</code></pre>
<p>Importer un même module plusieurs fois dans un fichier est inutile, mais ne provoque aucune erreur. La première fois qu'un module est importé, tout son
		contenu est exécuté une fois. Si on execute <code>modB.py</code> ci-dessous, on aura à l'affichage <code>modA exécuté</code> ↓</p>
<pre><code class="language-python">
		# fichier modA.py
		print("modA exécuté")
	</code></pre>
<pre><code class="language-python">
		# fichier modB.py, on execute celui-ci
		import modA
		import modA # &lt;= pas d'erreur, mais inutile
	</code></pre>
<p>Le nom d'un module est accessible en lui-même grâce à la variable pré-définie <code>__name__</code> (avec double <code>_</code> de chaque côté). Si on
		execute <code>modB.py</code> ci-dessous ↓</p>
<pre><code class="language-python">
		# fichier modA.py
		print(__name__)
	</code></pre>
<pre><code class="language-python">
		# fichier modB.py, on execute celui-ci
		import modA
		print(modA.__name__)
		print(__name__)
	</code></pre>
<pre class="affichage_console"><code>
modA
modA
__main__
&gt;</code></pre>
<p>Remarquez une chose spéciale ↑ la variable <code>__name__</code> dans <code>modB.py</code> ne vaut pas <code>"modB"</code> mais la string <code>"__main__"</code>.
		Le module qui est exécuté par le programme Python (par exemple avec la commande <code>python modB.py</code>), devient le module principal, le point
		d'entrée du programme, et son module prend le nom spécial <code>"__main__"</code>. Dans replit le module qui est exécuté est le fichier main.py par
		défaut, quand on clique sur le bouton <em>Run</em>.</p>
<p>Vous pouvez lister le nom de tous les éléments déclarés dans un modules avec la fonction <code>dir()</code> (qui peut faire bien plus que cela).</p>
<pre><code class="language-python">
		# fichier modA.py
		une_variable = 'a'
		def une_fonction():
			pass
	</code></pre>
<pre><code class="language-python">
		# fichier modB.py, on execute celui-ci
		import modA
		print(dir(modA))
	</code></pre>
<pre class="affichage_console"><code>
['__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__',
	'__package__', '__spec__', 'une_fonction', 'une_variable']
&gt;</code></pre>
<p>↑ On obtient une liste de <code>str</code>, où chaque élément est le nom d'un identifiant: variable, fonction, classe etc.... Remarquez qu'il y a
		beaucoup de choses pré-définies dans le module, qu'on peut ignorer à notre niveau. Mais on retrouve la variable <code>__name__</code>, et on peut voir
		notre fonction <code>une_fonction</code> et notre variable <code>une_variable</code> à la fin.</p>

	
	


	<h2 data-nb="14.2" id="Bibliothèque standard de Python">Bibliothèque standard de Python</h2>
<p>De très nombreuses fonctionnalités de Python sont séparées dans des modules qu'il faut importer spécifiquement. Nous en verrons de plus en plus au fur et
		à mesure des besoins de ce cours. Vous pouvez voir la liste exhaustive de <a href="https://docs.python.org/3/library/index.html" target="_blank">tous
			les modules standards</a> dans la documentation officielle.</p>
<p>Il existe un module standard particulier, <code>builtins</code> (qui signifie "intégrés dedans" en anglais), qui est importé automatiquement. Il contient
		les fonctions qu'on a utilisé depuis toujours, comme <code>print()</code>, <code>input()</code> etc... Pour obtenir une référence vers
		<code>builtins</code> (variable de type <code>module</code>) il faut quand même l'importer explicitement <code class="language-python">import
			builtins</code></p>
<h2 data-nb="14.3" id="Mutabilité des données">Mutabilité des données</h2>
<p>En Python certaines données ne peuvent pas être modifiées une fois créées, on dit qu'elles sont <strong>immutables</strong> ou <strong>immuables</strong>
		en français. D'autres peuvent être modifiées, on dit qu'elles sont <strong>mutables</strong> ou <strong>muables</strong>.</p>
<p>Les types immutables que vous connaissez déjà sont:</p>
<ul>
<li><code>int</code></li>
<li><code>float</code></li>
<li><code>str</code></li>
<li><code>tuple</code></li>
<li><code>bool</code></li>
</ul>
<p>Tous les autres types sont considérés mutables, y compris les classes qu'on défini nous-même.</p>
<p>Modifier une donnée ne veut pas dire assigner une nouvelle donnée à une variable avec l'opérateur <code>=</code> car cela modifie la variable, qui pointe
		alors vers une toute autre donnée différente de la précédente.</p>
<pre><code class="language-python">
		maVar = 1
		maVar = 2
		# On ne modifie pas 1 en 2
		# mais on modifie la variable maVar qui pointe d'abors vers 1 PUIS vers 2
		# qui sont deux données différentes en mémoire
	</code></pre>
<p>Modifier une donnée signifie appeler des méthodes sur elle, ou modifier ses attributs, comme pour une liste par exemple:</p>
<pre><code class="language-python">
		maListe = [5, 2]
		maListe.append(10) # On modifie la liste
		maListe = [8] # On modifie la variable, en lui assignant une nouvelle liste
	</code></pre>
<h2 data-nb="14.4" id="Les dictionnaires">Les dictionnaires</h2>
<p>Un type de donnée très utile est <code>dict</code>, qui associe des <strong>données</strong> à certains éléments qu'on appelle <strong>clés</strong>. Les
		clés doivent être de type immutable, mais les données peuvent être de n'importe quel type. Chaque clé est unique dans le dictionnaire, et à chaque clé
		correspond une seule valeur, qui elle peut ne pas être unique.</p>
<p>Les dictionnaires sont déclarés ainsi:</p>
<pre><code class="language-python">
		# Un dict vide
		d = {}

		# Un dict initialisé avec des clés et valeurs de différents types
		d = {'a': 10, 'b': 20, 'c': 15, ('i', 'j'): 'Bonjour', 8: [0, 1, 2]}
	</code></pre>
<p>Quand la valeur littérale d'un <code>dict</code> est trop longue, on peut l'écrire de façon à avoir une clé et sa valeur par ligne, comme ceci:</p>
<pre><code class="language-python">
		# Ecriture plus lisible d'un dictionnaire
		d = {
			'a': 10,
			'b': 20,
			'c': 15,
			('i', 'j'): 'Bonjour',
			8: [0, 1, 2], # &lt;= on peut mettre une virgule après le dernier élément
		}
	</code></pre>
<p>Pour ajouter une clé et sa valeur, ou retrouver / modifier la valeur associée à une clé dans un dict, on utilise l'indexation et l'opérateur
		<code>=</code>
</p>
<pre><code class="language-python">
		d = {}
		d['a'] = 8 # &lt;= ajout de la clé de type str "a", associée à la valeur de type int 8
		print(d['a']) # &lt;= Affiche 8
	</code></pre>
<p>Supprimer une clé et sa valeur asssociée se fait avec l'instruction <code>del</code></p>
<pre><code class="language-python">
		d = {'a': 5}
		del d['a']
		print(d) # Affiche {}
	</code></pre>
<p>Tenter d’accéder à, ou de supprimer une clé inexistante provoque une erreur de type <code>KeyError</code></p>
<pre><code class="language-python">
		d = {'a': 5}
		try:
			print(d['b'])
		except:
			print("Cette clé n'existe pas") # Ce message sera affiché
	</code></pre>
<p>L’opérateur booléen <code>in</code> peut être utilisé pour savoir si une clé est présente dans un <code>dict</code>:</p>
<pre><code class="language-python">
		d = {'a': 5, 'b': 15}
		'a' in d # Vaut True
		'c' in d # Vaut False
	</code></pre>
<p>On peut boucler sur un dict, avec la méthode <code>items()</code>:</p>
<pre><code class="language-python">
		d = {'a': 'bonjour', 'b': 'à', 'c': 'vous'}

		# Remarquez les deux variables de la boucle for
		for clé, valeur in d.items():
			print(clé, valeur)
	</code></pre>
<p>Pour supprimer tous les éléments d’un dict, on peut appeler sa méthode <code>clear()</code></p>
<pre><code class="language-python">
		monDict.clear()
	</code></pre>
<p>On peut avoir la longueur d'un dictionnaire avec la fonction <code>len()</code> (comme pour les listes):</p>
<pre><code class="language-python">
		d = {'a': 'bonjour', 'b': 'à', 'c': 'vous'}

		len(d) # retourne 3
	</code></pre>
<h2 data-nb="14.5" id="Valeur par défaut des paramètres des fonctions">Valeur par défaut des paramètres des fonctions</h2>
<p>On les déclare ainsi:</p>
<pre><code class="language-python">
		def f(p1, p2=10):
			pass

		# p2 vaut 15
		f(5, 15)

		# p2 n'est pas spécifié, alors il vaut 10, sa valeur par défaut
		f(5)
	</code></pre>
<p>Quand un paramètre a une valeur par défaut, il devient facultatif de le préciser lors d'un appel de la fonction.</p>
<p>Les paramètres qui ont une valeur par défaut doivent être placés <strong>APRES</strong> ceux qui n'ont pas de valeur par défaut, aussi bien lors de la
		déclaration de la fonction, que lors de l'appel de la fonction.</p>
<h2 data-nb="14.6" id="Passage de paramètres des fonctions par leur nom">Passage de paramètres des fonctions par leur nom</h2>
<p>Au moment de l’appel d’une fonction, on peut donner la valeur d’un paramètre en spécifiant le nom du paramètre, au lieu de sa valeur directement, on les
		appelle alors des paramètres nommés:</p>
<pre><code class="language-python">
		def f(p1, p2, p3):
			pass

		# ↓ L'ordre des paramètres nommés n'est pas important
		f(p2=50, p3=8, p1=2)

		# ↓ ERREUR: il est interdit de spécifier plusieurs fois le même paramètre
		# Ici p1 est donné 2 fois
		f(p2=50, p3=8, p1=2, p1=10)
	</code></pre>
<p>On peut donner à la fois des paramètres par leur position (non nommés) et des paramètres par leur nom. Dans ce cas, les paramètres dont on donne la
		valeur directement sans spécifier leur nom doivent être listés en premier, et les paramètres nommés ensuite. L'ordre des paramètres <em>non</em> nommés
		reste important:</p>
<pre><code class="language-python">
		def f(p1, p2, p3, p4):
			pass

		# ↓ OK
		# p1 vaut 50, p2 vaut 8
		f(50, 8, p4=2, p3=10)

		# ↓ ERREUR: les paramètres nommés doivent être passés APRES les non nommés.
		# Ici p4=2 est avant 8, ça devrait être l'inverse.
		f(50, p4=2, 8, p3=10)

		# ↓ ERREUR: p1 est donné deux fois!
		# p1 vaut 50, puis on dit aussi qu'il vaut 10...
		f(50, 8, p4=2, p3=10, p1=10)
	</code></pre>
<h2 data-nb="14.7" id="La portée des variables">La portée des variables</h2>
<p>Chaque variable existe dans certains contextes et certaines limites de votre programme. Et par variable, on peut généraliser à toute donnée que vous
		déclarez, y compri les fonctions et les classes.</p>
<h3 data-nb="14.7.1" id="Dans un module: les variables globales">Dans un module: les variables globales</h3>
<p>Les variables globales existent dans un module, tant que ce module est chargé en mémoire.</p>
<p>Un appel de la fonction prédéfinie <code>globals()</code> retourne un <code>dict</code> de toutes les variables globales et leur valeur associée, <em>dans
		le module</em> dans lequel <code>globals()</code> est appelé:</p>
<pre><code class="language-python">
		var_globale = 10

		print(globals())
	</code></pre>
<pre class="affichage_console"><code>
{'__name__': '__main__', '__doc__': None, '__package__': None,
'__loader__': &lt;_frozen_importlib_external.SourceFileLoader object at 0x000001BFF97B5108&gt;,
'__spec__': None, '__annotations__': {}, '__builtins__': &lt;module 'builtins' (built-in)&gt;,
'__file__': 'modA.py', '__cached__': None, 'var_globale': 10}
&gt;</code></pre>
<p>↑ Remarquez qu'il y a beaucoup de choses pré-définies, qu'on peut ignorer à notre niveau. Mais on peut voir notre variable globale
		<code>var_globale</code> à la fin.</p>
<p>Les variables globales sont accessibles en lecture dans les fonctions, mais pas en écriture:</p>
<pre><code class="language-python">
		var_globale = 10

		def une_fonction():
			# Lit var_globale
			print(var_globale) # Affiche 10
	</code></pre>
<pre><code class="language-python">
		var_globale = 10

		def une_fonction():
			var_globale = 8
			# Ne modifie pas var_globale
			# mais créé une nouvelle variable LOCALE qui s'appelle aussi var_globale

	</code></pre>
<p>Pour modifier une variable globale depuis une fonction, il faut utiliser le mot-clé <code>global</code> comme ceci:</p>
<pre><code class="language-python">
		var_globale = 10

		def une_fonction():
			global var_globale
			var_globale = 8
			# La variable globale est bien modifiée
	</code></pre>
<h3 data-nb="14.7.2" id="Dans les fonctions: les variables locales">Dans les fonctions: les variables locales</h3>
<p>Les variables déclarées / créées dans les fonctions sont appelées variables locales. Les paramètres des fonctions sont aussi des variables locales,
		créées automatiquement, et initialisées avec les valeurs effectives lors de l'appel de la fonction. Les variables locales n'existent que pendant
		l'execution de la fonction dans laquelle elles sont déclarées. </p>
<p>Ici on parle bien des variables, et pas des données qu'elles désignent, qu'il ne faut pas confondre. Par exemple si vous créez une liste dans une
		fonction, la stockez dans une variable locale L, puis retournez L, la variable L n'existe plus lorsque la fonction a fini son execution, mais la liste
		si, et peut être utilisée ensuite en dehors de la fonction au travers d'autres variables.</p>
<p>La fonction <code>locals()</code> retourne la liste de toutes les variables locales et leur valeur associée, dans le contexte dans lequel
		<code>locals()</code> est appelée, dans une fonction, ou en dehors. Si appelée en dehors d'une fonction, elle se comporte comme <code>globals()</code>.
	</p>




		<div class="nav_arrows">
			<hr>
			
		<div style="display: flex; flex-direction: row; justify-content: space-between; padding: 1em 0em;">
				<span>
					
						<a href="tp7.html">← Page précédente</a>
					
				</span>
			
				<span style="padding: 0 .5em;">
						<a href="index.html">1ère page</a>
					</span>
			
			<span>
				
					<a href="td3.html">Page suivante →</a>
				
				</span>
		</div>
		
		</div>

	</div>

	
		<style>
			@media only screen and (min-width: 70em) {
				#side_nav_bar {
					width: 25vw;
				}

				#contenu {
					width: 75vw;
				}
			}
		</style>
	


</div>
  
<script src="prism.js"></script>

<script>
	if (document.URL.indexOf("localhost") === -1) {
		//console.log("pas localhost");
		document.querySelector("link[rel = 'icon']").setAttribute("href", "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='200' height='200' viewBox='0 0 100 100' style='display:block; margin:auto; padding: 0 0 1em 0;'%3E%3Cstyle%3E text %7B text-align: center; fill: white; text-anchor: middle; font-size: 11pt; %3C/style%3E%3C!--	%3Crect fill='hsl(000,50%25, 50%25)' x='0' y='0' width='100' height='100'%3E%3C/rect%3E--%3E%3Crect fill='hsl(200,50%25, 50%25)' x='0' y='0' width='100' height='100'%3E%3C/rect%3E%3Ctext x='50' y='75' style='font-size: 50pt;' id='t'%3E 🐍 %3C/text%3E%3C!--	%3Canimate--%3E%3C!-- xlink:href='%23t'--%3E%3C!-- attributeName='y'--%3E%3C!-- calcMode='spline'--%3E%3C!-- values='60; 90; 60'--%3E%3C!-- keyTimes='0; 0.5; 1'--%3E%3C!-- keySplines='--%3E%3C!-- .42 0 1 1;--%3E%3C!-- 0 0 .59 1;'--%3E%3C!-- dur='2s'--%3E%3C!-- fill='freeze'--%3E%3C!-- repeatCount='indefinite'/%3E--%3E%3C/svg%3E");
	} else {
		//console.log("localhost");
	}
	// On supprime la première ligne des <pre><code> qui est considérée toujours vide et inutile
	const codes = document.querySelectorAll('pre[class="affichage_console"] code');
	
	codes.forEach(function (el) {
		// Attention: modifier textContent ou innerText d'un élément détruit tous ses éléments enfant :(
		//el.textContent = el.textContent.replace(/^\n/, '');
		// On modifie donc le premie noeud texte uniquement
		el.childNodes[0].textContent = el.childNodes[0].textContent.replace(/^\n/, ''); // suppose que c'est un élément texte
	});

	// On ajoute un <br> avant et après chaque <pre>
	let pres = document.querySelectorAll('pre, .exercices div.noté');
	pres.forEach(function (el) {
		el.parentNode.insertBefore(document.createElement('div'), el);
		el.parentNode.insertBefore(document.createElement('div'), el.nextSibling);
	});

	// On ajoute 'Affichage' avant chaque affichage console
	pres = document.querySelectorAll('pre[class="affichage_console"]');
	pres.forEach(function (el) {
		const p = document.createElement('p');
		p.innerHTML = `<small>↓ Affichage dans la console (ou dans le shell, selon où vous lancez l'exécution)<mall>`;
		p.classList.add("légende_placée_en_haut");
		el.parentNode.insertBefore(p, el);
	});

	// Cacher corrections dans les TD / TP, et permettre de les afficher
	let divs_correction = document.querySelectorAll('div[class="correction"]');
	divs_correction.forEach(function (div) {
		div.classList.add("correction_hidden");
		const p = document.createElement('p');
		p.innerHTML = `<span class="correction_lien_à_cliquer">📝 Afficher / cacher correction ✓</span>`;
		p.onclick = function (evt) {
			div.classList.toggle("correction_hidden");
		};
		div.parentNode.insertBefore(p, div);
	});
</script>
</body>
</html>