<!DOCTYPE html>
<html lang="fr">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>✍️ TD 2 - Prog. objets niv.1 ✔️ | Algo et prog 2 en Python</title>
	<link href="prism.css" rel="stylesheet"/>
	<link href="style.css" rel="stylesheet"/>
	<!--link rel="icon" href="img/favicon.svg"-->
	<link rel="icon"
			href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='200' height='200' viewBox='0 0 100 100' style='display:block; margin:auto; padding: 0 0 1em 0;'%3E%3Cstyle%3E text %7B text-align: center; fill: white; text-anchor: middle; font-size: 11pt; %3C/style%3E%3Crect fill='hsl(000,50%25, 50%25)' x='0' y='0' width='100' height='100'%3E%3C/rect%3E%3C!--	%3Crect fill='hsl(200,50%25, 50%25)' x='0' y='0' width='100' height='100'%3E%3C/rect%3E--%3E%3Ctext x='50' y='75' style='font-size: 50pt;' id='t'%3E 🐍 %3C/text%3E%3C!--	%3Canimate--%3E%3C!-- xlink:href='%23t'--%3E%3C!-- attributeName='y'--%3E%3C!-- calcMode='spline'--%3E%3C!-- values='60; 90; 60'--%3E%3C!-- keyTimes='0; 0.5; 1'--%3E%3C!-- keySplines='--%3E%3C!-- .42 0 1 1;--%3E%3C!-- 0 0 .59 1;'--%3E%3C!-- dur='2s'--%3E%3C!-- fill='freeze'--%3E%3C!-- repeatCount='indefinite'/%3E--%3E%3C/svg%3E">
</head>
<body>
<div id="conteneur">
	<div id="side_nav_bar">
		<!--svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 100 100" style="display:block; margin:auto; padding: 0 0 1em 0;">
	<style>
		text {
			text-align: center;
			fill: white;
			text-anchor: middle;
			font-size: 11pt;
		}
	</style>
	<rect fill="#4B8BBE" x="0" y="0" width="100" height="100"></rect>
	<text x="50" y="45" style="font-size: 30pt;">
		🐍

	</text>
	<text x="50" y="75" fill="#FFE873">
		Algo et prog 2
	</text>
	<text x="50" y="90" fill="#FFE873">
		en Python
	</text>
</svg-->

<div style="color:#4B8BBE; font-size: 200%; padding: 2%; text-align: center">
	Algo. et prog. 2 en
</div>
<img src="img/python-logo-generic.png" alt="Logo de Python" style="width: 100%; max-width: 19em; display:block; margin:auto;">
<div style="text-align: center; opacity: 0.5; font-size: small">Arnaud COUTURIER - Python 3.10</div>


























		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="index.html">
				Introduction
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_spec_impl_versions.html">
				Spécification, implémentations et versions
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_methodes_exec.html">
				Façons d'exécuter un programme Python
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_memoire_donnees.html">
				Mémoire et modèle de données
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_pass.html">
				L'instruction pass
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_prog_objets.html">
				Programmation objets
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_namespaces_modules.html">
				Namespaces et modules
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_exceptions.html">
				Les exceptions
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_sequences.html">
				Les séquences
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_iterables.html">
				Iterables, iterators
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_iterable_unpacking.html">
				Iterable unpacking
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_boucles_avancees.html">
				Techniques avancées sur les boucles
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_fonc_params.html">
				Fonctions et paramètres
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_dict_set.html">
				Hash et dictionnaires
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_compr_listes.html">
				Compréhension de listes et dictionnaires
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_manip_fich_texte.html">
				Manipulation de fichiers texte
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="td1.html">
				✍️ TD 1 - Calculatrice niv.1 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="tp1.html">
				✏️ TP 1 - Calculatrice niv.2 ✔️
			</a>
		</div>

		<div class="page_actuelle h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="td2.html">
				✍️ TD 2 - Prog. objets niv.1 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="tp2.html">
				✏️ TP 2 - Calculatrice niv.3 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="tp3.html">
				✏️ TP 3 - Calculatrice niv.4 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="td3.html">
				✍️ TD 3 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="tp4.html">
				✏️ TP 4 - Prog. objets niv.2 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="tp5.html">
				✏️ TP 5 - Prog. objets niv.3 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="cc1_2022.html">
				📝 Contrôle continu 1
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="tp6.html">
				✏️ TP 6 - Prog. objets niv.4 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="tp7.html">
				✏️ TP 7 - Prog. objets niv.5 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="tp_boutique_1.html">
				✏️ TP 8 - Boutique niv.1
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="tp_boutique_2.html">
				✏️ TP 9 - Boutique niv.2
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="tp_pendu_1.html">
				✏️ TP 10 - Jeu du pendu niv.1
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="tp_pendu_2.html">
				✏️ TP 11 - Jeu du pendu niv.2
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="cc2_2022_taches.html">
				📝 Contrôle continu 2
			</a>
		</div>

	</div>
	<div id="contenu">
		


		
	<h1 data-nb="19" id="✍️ TD 2 - Prog. objets niv.1 ✔️">✍️ TD 2 - Prog. objets niv.1 ✔️</h1>
	

	
	<div class="exercice">
<h2 data-nb="19.1" id="Question 1">Question 1</h2>
<p>Créer une classe <code>Personnage</code>, vide.</p>
<p>Puis créer deux instances de cette classe, et les mettre chacune "dans" une variable (les assigner à une variable).</p>
<p>Exécuter votre programme et vérifier qu'il ne provoque pas d'erreurs.</p>
		
			<div class="correction">
<pre class="line-numbers"><code class="language-python">
					# On nomme toujours une classe avec une majuscule en
					# première lettre.
					# Personnage est au singulier car la classe décrit UN SEUL
					# personnage. La classe est le modèle pour chaque objet.
					class Personnage:
						# bloc vide, donc on utilise pass
						pass

						# On ne déclare rien dans la classe:
						# ni constructeur ni méthode.


					# ↓ Appelle le constructeur par défaut de la classe,
					# car aucun n'a été défini explicitement. Le constructeur
					# par défaut ne fait rien de spécial.
					# L'objet est créé en mémoire, puis on fait pointer
					# la variable "perso1" vers lui.
					perso1 = Personnage()


					# ↓ On fait de même pour un nouvel objet de la classe
					# Personnage, avec une nouvelle variable.
					perso2 = Personnage()
				</code></pre>
<p>Remarques:</p>
<ul>
<li><code>pass</code> est une <strong>instruction</strong> qui ne fait rien d'autre que de passer à la ligne suivante lors de son exécution.
						Elle sert à avoir un bloc d'instruction "vide" (qui ne fait rien), car il est interdit dans la syntaxe de Python d'avoir zéro ligne pour
						un bloc. Il en faut au moins une, <code>pass</code> est donc utile dans ce cas. Un bloc de code est un ensemble de lignes de code, par
						exemple dans une fonction (et donc une méthode aussi), un <code>if</code>, un <code>else</code>, un <code>try</code>, un
						<code>except</code>, une boucle <code>for</code>, une boucle <code>while</code>, ou une classe.
					</li>
<li><code>pass</code> n'est PAS une expression, elle n'a aucune valeur. Ne pas confondre <code>pass</code> avec <code>None</code>.</li>
</ul>
</div>
		
	</div>

	
	<div class="exercice">
<h2 data-nb="19.2" id="Question 2">Question 2</h2>
<p>Ajouter une méthode <code>saluer</code>, qui ne fait qu'afficher "Bonjour, je suis un personnage" dans la console.</p>
<p>Appeler la méthode <code>saluer</code> des deux objets.</p>
<p>Exécuter votre programme et vérifier qu'il ne provoque pas d'erreurs, et qu'il affiche bien les salutations des deux personnages.</p>
		
			<div class="correction">
<pre class="line-numbers"><code class="language-python">
					class Personnage:

						# ↓ Méthode "saluer".
						# Ne pas oublier le paramètre obligatoire "self"
						def saluer(self):
							print("Bonjour, je suis un personnage")

					perso1 = Personnage()
					perso2 = Personnage()

					# ↓ Le paramètre "self" n'est pas mis à l'appel,
					# il s'agit en fait de l'objet sur lequel est appelé la méthode,
					# soit perso1, puis perso2 sur la seconde ligne.
					perso1.saluer()
					perso2.saluer()
				</code></pre>
<pre class="affichage_console"><code class="">
Bonjour, je suis un personnage
Bonjour, je suis un personnage</code></pre>
<p>Remarques:</p>
<ul>
<li>On a retiré l'instruction <code>pass</code> précédemment dans la classe, car elle nest plus utile, en effet la classe n'est plus vide
						puisqu'elle contient désormais une méthode.
					</li>
<li><code>self</code> est obligatoire comme premier paramètre de chaque méthode. Au moment de l'appel cependant on ne le précise pas. Il
						représente l'objet sur lequel la méthode est exécutée, au moment de l'appel.
					</li>
</ul>
</div>
		
	</div>

	
	<div class="exercice">
<h2 data-nb="19.3" id="Question 3">Question 3</h2>
<p>Ajouter le constructeur, qui est vide et ne fait rien de spécial.</p>
<p>Exécuter votre programme et vérifier qu'il ne provoque pas d'erreurs.</p>
		
			<div class="correction">
<pre class="line-numbers"><code class="language-python">
					class Personnage:

						# Ce nom spécial "__init__" (avec DOUBLE _ autour de "init")
						# permet à Python de reconnaître que cette méthode est le constructeur.
						# Encore une fois "self" est obligatoire en 1er paramètre.
						def __init__(self):
							pass

						def saluer(self):
							print("Bonjour, je suis un personnage")


					perso1 = Personnage()
					perso2 = Personnage()

					perso1.saluer()
					perso2.saluer()
				</code></pre>
<pre class="affichage_console"><code class="">
Bonjour, je suis un personnage
Bonjour, je suis un personnage</code></pre>
<p>Remarques:</p>
<ul>
<li>On a désormais remplacé le constructeur par défaut des questions précédentes par le notre. Certes notre constructeur est vide et ne fait
						rien de spécial non plus, mais on va pouvoir faire des choses grâce à lui lors de la création d'instances de la classe Personnage, dans
						les questions suivantes.
					</li>
<li>Puisque le constructeur est vide pour le moment, on doit y mettre l'instruction <code>pass</code> dedans.</li>
</ul>
</div>
		
	</div>

	
	<div class="exercice">
<h2 data-nb="19.4" id="Question 4">Question 4</h2>
<p>Ajouter l'attribut <code>nom</code> à chaque instance, et lui donner une valeur initiale de votre choix, qui sera la même pour toutes les instances,
			par exemple "Toto".</p>
<p>La méthode <code>saluer</code> doit désormais afficher "Bonjour, je suis ", suivi du nom du personnage. Par exemple "Bonjour, je suis Toto"</p>
<p>Exécuter votre programme et vérifier qu'il affiche bien le bon résultat, c'est à dire chacun dit bonjour avec le même nom.</p>
		
			<div class="correction">
<pre class="line-numbers"><code class="language-python">
					class Personnage:

						def __init__(self):
							# ↓ On crée un nouvel attribut "nom", que chaque instance aura.
							# Cet attribut aura toujours "Toto" comme valeur initiale,
							# pour tous les futurs objets de cette classe.
							self.nom = "Toto"

						def saluer(self):
							# ↓ On utilise l'attribut "nom" de l'objet en cours
							# qui est représenté par "self".
							print("Bonjour, je suis", self.nom)


					perso1 = Personnage()
					perso2 = Personnage()

					perso1.saluer()
					perso2.saluer()
				</code></pre>
<pre class="affichage_console"><code class="">
Bonjour, je suis Toto
Bonjour, je suis Toto</code></pre>
<p>Remarques:</p>
</div>
		
	</div>

	
	<div class="exercice">
<h2 data-nb="19.5" id="Question 5">Question 5</h2>
<p>Permettre de personnaliser le nom de chaque personnage, en passant le nom en paramètre du constructeur.</p>
<p>Donner un nom différent à chacun des deux personnage instanciés.</p>
<p>Exécuter votre programme et vérifier qu'il affiche bien le bon résultat, c'est à dire chacun dit bonjour avec un nom différent.</p>
		
			<div class="correction">
<pre class="line-numbers"><code class="language-python">
					class Personnage:

						# ↓ Notre constructeur a un nouveau paramètre "nom_initial".
						# Il faudra le préciser à l'appel, coontrairement à "self".
						def __init__(self, nom_initial):
							# ↓ On donne au nouvel attribut "nom" la valeur du param "nom_initial".
							# Ainsi cela permet de donner un nom différent à chaque personnage,
							# lors de leur création.
							self.nom = nom_initial

						def saluer(self):
							print("Bonjour, je suis", self.nom)


					# ↓ C'est lors de l'instanciation qu'on donne le nom de chaque nouveau perso.
					perso1 = Personnage("Toto")
					perso2 = Personnage("Titi")

					perso1.saluer()
					perso2.saluer()
				</code></pre>
<pre class="affichage_console"><code class="">
Bonjour, je suis Toto
Bonjour, je suis Titi</code></pre>
</div>
		
	</div>

	
	<div class="exercice">
<h2 data-nb="19.6" id="Question 6">Question 6</h2>
<p>Créer une classe qui représente une témpérature.</p>
<p>Elle a un constructeur qui prend en paramètre une température sous forme de float, et un paramètre qui précise sous forme de str l'unité de la
			température passée en paramètre. On considérera les degrés celsius, fahrenheit et en kelvin. (voir internet pour les formules de conversion)</p>
<p>Elle a une méthode celsius qui ne prend aucun paramètre et retourne sous forme de float la température en degrés celsius.</p>
<p>Elle a une méthode fahrenheit qui ne prend aucun paramètre et retourne sous forme de float la température en degrés fahrenheit.</p>
<p>Elle a une méthode kelvin qui ne prend aucun paramètre et retourne sous forme de float la température en unité kelvin.</p>
<p>Elle a une méthode provoque_glace qui ne prend aucun paramètre et retourne True si cette témpérature est inférieure ou égale à celle nécessaire pour
			geler l'eau, False sinon.</p>
<p>Elle a une méthode provoque_ébullition() qui ne prend aucun paramètre et retourne True si cette témpérature est supérieure ou égale à celle
			nécessaire pour bouillir l'eau, False sinon.</p>
		
			<div class="correction">
<pre class="line-numbers"><code class="language-python">
					class Temperature:
						def __init__(self, valeur, unité):
							if unité == "celsius":
								self.valeur_celsius = valeur
								self.valeur_fahrenheit = 9/5*valeur + 32
								self.valeur_kelvin = valeur + 273.15
							elif unité == "fahrenheit":
								self.valeur_celsius = (valeur - 32)/1.8
								self.valeur_fahrenheit = valeur
								self.valeur_kelvin = 5/9*(valeur-32)+273.15
							elif unité == "kelvin":
								self.valeur_celsius = valeur - 273.15
								self.valeur_fahrenheit = 9/5*(valeur - 273.15) + 32
								self.valeur_kelvin = valeur

						def celsius(self):
							return self.valeur_celsius

						def fahrenheit(self):
							return self.valeur_fahrenheit

						def kelvin(self):
							return self.valeur_kelvin

						def provoque_glace(self):
							return self.celsius() &lt;= 0

						def provoque_ébullition(self):
							return self.celsius() &gt;= 100
				</code></pre>
</div>
		
	</div>

	
	<div class="exercice">
<h2 data-nb="19.7" id="Question 7">Question 7</h2>
<p>Créer une classe Bouilloire qui représente une bouilloire électrique. Elle a un constructeur qui prend deux paramètres: une puissance de chauffage
			sous forme de float, dont l'unité est en calories par secondes, et un volume sous forme de float, en litres, qui est le volume maximal de la
			bouilloire. On considère qu'une bouilloire est vide au départ, sa température initiale n'a donc pas d'importance. Une bouilloire doit représenter
			dans son code la température de l'eau qu'elle contient sous forme d'un objet de type Température (voir question précédente).</p>
<p>Elle a une méthode vider, qui ne prend aucun paramètre, ne retourne rien, et vide toute l'eau déjà dans la bouilloire.</p>
<p>Elle a une méthode remplir qui prend un volume d'eau en paramètre sous forme de float, en litres, et une température de l'eau avec laquelle on
			remplit la bouilloire sous forme d'objet Température. Le nouveau volume s'additionne à celui déjà dans la bouilloire, et les deux températures
			(celle de l'eau déjà présente dedans, et celle de l'eau nouvelle à ajouter) sont utilisées pour calculer la moyenne pondérée qui sera la température
			de toute l'eau une fois dans la bouilloire. La bouilloire ne doit pas être remplie au-delà de sa capacité. L'eau en surplus, s'il y en a, est
			ignorée. Attention à bien prendre en compte uniquement l'eau versée dedans pour le calcul de la température finale. La méthode retourne la quantité
			d'eau qui a pu être effectivement versée dans la bouilloire.</p>
<p>Elle a une méthode avoir_température qui ne prend aucun paramètre et retourne la température sous forme d'objet Température (voir question
			précédente). Si la bouilloire est vide cette méthode retourne -1.</p>
<p>Elle a une méthode chauffer, qui augmente la température de son eau à celle de l'ébullition de l'eau, qui ne prend aucun paramètre et retourne le
			temps (en secondes) qui lui a été nécessaire pour chauffer toute son eau. Si la bouilloire est vide cette méthode retourne -1.</p>
		
			<div class="correction">
<pre class="line-numbers"><code class="language-python">
					class Bouilloire:
						def __init__(self, puissance, volume_max_litres):
							self.volume_max_litres = volume_max_litres
							self.volume_eau_litres = 0
							self.puissance_cal_par_s = puissance
							self.température: Temperature = None

						def vider(self):
							self.volume_eau_litres = 0
							self.température = None

						def remplir(self, volume_à_ajouter, temp_eau):
							ancien_volume = self.volume_eau_litres
							self.volume_eau_litres = min(self.volume_max_litres, self.volume_eau_litres + volume_à_ajouter)
							volume_ajouté = self.volume_eau_litres - ancien_volume
							if self.température:
								assert ancien_volume != 0
								pourcent_ancien_volume = ancien_volume / self.volume_eau_litres
								pourcent_volume_ajouté = volume_ajouté / self.volume_eau_litres
								nouvelle_temp_celsius = self.température.celsius() * pourcent_ancien_volume + temp_eau.celsius() * pourcent_volume_ajouté
								self.température = Temperature(nouvelle_temp_celsius, "celsius")
							else:
								assert ancien_volume == 0
								self.température = temp_eau
							return volume_ajouté

						def avoir_température(self):
							if self.température:
								return self.température
							return -1

						def chauffer(self):
							if self.volume_eau_litres &lt;= 0:
								return -1
							degrés_à_chauffer = 100 - self.température.celsius()
							assert degrés_à_chauffer &gt;= 0
							self.température = Temperature(100, "celsius")
							return self.volume_eau_litres * 1000 / self.puissance_cal_par_s * degrés_à_chauffer
				</code></pre>
</div>
		
	</div>


		<div class="nav_arrows" style=" margin-bottom: 1em;">

			<div style="text-align: center; opacity: 0.5; font-size: small">

			</div>
		</div>

	</div>

	
		<style>
			@media only screen and (min-width: 70em) {
				#side_nav_bar {
					width: 25vw;
				}

				#contenu {
					width: 75vw;
				}
			}
		</style>
	


</div>
  
<script src="prism.js"></script>

<script>
	if (document.URL.indexOf("localhost") === -1) {
		//console.log("pas localhost");
		document.querySelector("link[rel = 'icon']").setAttribute("href", "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='200' height='200' viewBox='0 0 100 100' style='display:block; margin:auto; padding: 0 0 1em 0;'%3E%3Cstyle%3E text %7B text-align: center; fill: white; text-anchor: middle; font-size: 11pt; %3C/style%3E%3C!--	%3Crect fill='hsl(000,50%25, 50%25)' x='0' y='0' width='100' height='100'%3E%3C/rect%3E--%3E%3Crect fill='hsl(200,50%25, 50%25)' x='0' y='0' width='100' height='100'%3E%3C/rect%3E%3Ctext x='50' y='75' style='font-size: 50pt;' id='t'%3E 🐍 %3C/text%3E%3C!--	%3Canimate--%3E%3C!-- xlink:href='%23t'--%3E%3C!-- attributeName='y'--%3E%3C!-- calcMode='spline'--%3E%3C!-- values='60; 90; 60'--%3E%3C!-- keyTimes='0; 0.5; 1'--%3E%3C!-- keySplines='--%3E%3C!-- .42 0 1 1;--%3E%3C!-- 0 0 .59 1;'--%3E%3C!-- dur='2s'--%3E%3C!-- fill='freeze'--%3E%3C!-- repeatCount='indefinite'/%3E--%3E%3C/svg%3E");
	} else {
		//console.log("localhost");
	}
	// On supprime la première ligne des <pre><code> qui est considérée toujours vide et inutile
	const codes = document.querySelectorAll('pre[class="affichage_console"] code');
	
	codes.forEach(function (el) {
		// Attention: modifier textContent ou innerText d'un élément détruit tous ses éléments enfant :(
		//el.textContent = el.textContent.replace(/^\n/, '');
		// On modifie donc le premie noeud texte uniquement
		el.childNodes[0].textContent = el.childNodes[0].textContent.replace(/^\n/, ''); // suppose que c'est un élément texte
	});

	// On ajoute un <br> avant et après chaque <pre>
	let pres = document.querySelectorAll('pre, .exercices div.noté');
	pres.forEach(function (el) {
		el.parentNode.insertBefore(document.createElement('div'), el);
		el.parentNode.insertBefore(document.createElement('div'), el.nextSibling);
	});

	// On ajoute 'Affichage' avant chaque affichage console
	pres = document.querySelectorAll('pre[class="affichage_console"]');
	pres.forEach(function (el) {
		const p = document.createElement('p');
		p.innerHTML = `<small>↓ Affichage dans la console (ou dans le shell, selon où vous lancez l'exécution)<mall>`;
		p.classList.add("légende_placée_en_haut");
		el.parentNode.insertBefore(p, el);
	});

	// Cacher corrections dans les TD / TP, et permettre de les afficher
	let divs_correction = document.querySelectorAll('div[class="correction"]');
	divs_correction.forEach(function (div) {
		div.classList.add("correction_hidden");
		const p = document.createElement('p');
		p.innerHTML = `<span class="correction_lien_à_cliquer">📝 Afficher / cacher correction ✓</span>`;
		p.onclick = function (evt) {
			div.classList.toggle("correction_hidden");
		};
		div.parentNode.insertBefore(p, div);
	});
</script>
</body>
</html>