<!DOCTYPE html>
<html lang="fr">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>‚úèÔ∏è TP 2 - Calculatrice niv.3 ‚úîÔ∏è | Algo et prog 2 en Python</title>
	<link href="prism.css" rel="stylesheet"/>
	<link href="style.css" rel="stylesheet"/>
	<!--link rel="icon" href="img/favicon.svg"-->
	<link rel="icon"
			href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='200' height='200' viewBox='0 0 100 100' style='display:block; margin:auto; padding: 0 0 1em 0;'%3E%3Cstyle%3E text %7B text-align: center; fill: white; text-anchor: middle; font-size: 11pt; %3C/style%3E%3Crect fill='hsl(000,50%25, 50%25)' x='0' y='0' width='100' height='100'%3E%3C/rect%3E%3C!--	%3Crect fill='hsl(200,50%25, 50%25)' x='0' y='0' width='100' height='100'%3E%3C/rect%3E--%3E%3Ctext x='50' y='75' style='font-size: 50pt;' id='t'%3E üêç %3C/text%3E%3C!--	%3Canimate--%3E%3C!-- xlink:href='%23t'--%3E%3C!-- attributeName='y'--%3E%3C!-- calcMode='spline'--%3E%3C!-- values='60; 90; 60'--%3E%3C!-- keyTimes='0; 0.5; 1'--%3E%3C!-- keySplines='--%3E%3C!-- .42 0 1 1;--%3E%3C!-- 0 0 .59 1;'--%3E%3C!-- dur='2s'--%3E%3C!-- fill='freeze'--%3E%3C!-- repeatCount='indefinite'/%3E--%3E%3C/svg%3E">
</head>
<body>
<div id="conteneur">
	<div id="side_nav_bar">
		<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 100 100" style="display:block; margin:auto; padding: 0 0 1em 0;">
	<style>
		text {
			text-align: center;
			fill: white;
			text-anchor: middle;
			font-size: 11pt;
		}
	</style>
	<rect fill="hsl(200,50%, 50%)" x="0" y="0" width="100" height="100"></rect>
	<text x="50" y="45" style="font-size: 30pt;">
		üêç

	</text>
	<text x="50" y="75">
		Algo et prog 2
	</text>
	<text x="50" y="90">
		en Python
	</text>
</svg>

	
			<div class="h h1">
				<!--span class="ballot_box">‚òí</span-->
				<a href="index.html#Introduction">
					Introduction
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">‚òí</span-->
				<a href="groupes.html#Groupes de TD / TP">
					Groupes de TD / TP
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">‚òí</span-->
				<a href="cm1.html#üìñ Cours 1: rappels">
					üìñ Cours 1: rappels
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">‚òí</span-->
				<a href="td1.html#‚úèÔ∏è TD 1 - Calculatrice niv.1 ‚úîÔ∏è">
					‚úèÔ∏è TD 1 - Calculatrice niv.1 ‚úîÔ∏è
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">‚òí</span-->
				<a href="tp1.html#‚úèÔ∏è TP 1 - Calculatrice niv.2 ‚úîÔ∏è">
					‚úèÔ∏è TP 1 - Calculatrice niv.2 ‚úîÔ∏è
				</a>
			</div>
	

	
			<div class="page_actuelle h h1">
				<!--span class="ballot_box">‚òê</span-->
				<a href="#‚úèÔ∏è TP 2 - Calculatrice niv.3 ‚úîÔ∏è">
					‚úèÔ∏è TP 2 - Calculatrice niv.3 ‚úîÔ∏è
				</a>
			</div>
			<div class="page_actuelle h h2">
				<!--span class="ballot_box">‚òê</span-->
				<a href="#Question 1">
					Question 1
				</a>
			</div>
			<div class="page_actuelle h h2">
				<!--span class="ballot_box">‚òê</span-->
				<a href="#Question 2">
					Question 2
				</a>
			</div>
			<div class="page_actuelle h h2">
				<!--span class="ballot_box">‚òê</span-->
				<a href="#Question 3">
					Question 3
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">‚òê</span-->
				<a href="tp3.html#‚úèÔ∏è TP 3 - Calculatrice niv.4 ‚úîÔ∏è">
					‚úèÔ∏è TP 3 - Calculatrice niv.4 ‚úîÔ∏è
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">‚òê</span-->
				<a href="cm2.html#üìñ Cours 2: Programmation orient√©e objets">
					üìñ Cours 2: Programmation orient√©e objets
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">‚òê</span-->
				<a href="td2.html#‚úèÔ∏è TD 2 - Prog. objets niv.1 ‚úîÔ∏è">
					‚úèÔ∏è TD 2 - Prog. objets niv.1 ‚úîÔ∏è
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">‚òê</span-->
				<a href="tp4.html#‚úèÔ∏è TP 4 - Prog. objets niv.2 ‚úîÔ∏è">
					‚úèÔ∏è TP 4 - Prog. objets niv.2 ‚úîÔ∏è
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">‚òê</span-->
				<a href="tp5.html#‚úèÔ∏è TP 5 - Prog. objets niv.3 ‚úîÔ∏è">
					‚úèÔ∏è TP 5 - Prog. objets niv.3 ‚úîÔ∏è
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">‚òê</span-->
				<a href="tp6.html#‚úèÔ∏è TP 6 - Prog. objets niv.4 ‚úîÔ∏è">
					‚úèÔ∏è TP 6 - Prog. objets niv.4 ‚úîÔ∏è
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">‚òê</span-->
				<a href="tp7.html#‚úèÔ∏è TP 7 - Prog. objets niv.5 ‚úîÔ∏è">
					‚úèÔ∏è TP 7 - Prog. objets niv.5 ‚úîÔ∏è
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">‚òê</span-->
				<a href="cm3.html#üìñ Cours 3: fonctionnalit√©s de Python">
					üìñ Cours 3: fonctionnalit√©s de Python
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">‚òê</span-->
				<a href="td3.html#‚úèÔ∏è TD 3 ‚úîÔ∏è">
					‚úèÔ∏è TD 3 ‚úîÔ∏è
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">‚òê</span-->
				<a href="cm4.html#üìñ Cours 4: rappels et compl√©ments">
					üìñ Cours 4: rappels et compl√©ments
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">‚òê</span-->
				<a href="tp8.html#‚úèÔ∏è TP 8 ‚úîÔ∏è">
					‚úèÔ∏è TP 8 ‚úîÔ∏è
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">‚òê</span-->
				<a href="tp9.html#‚úèÔ∏è TP 9 - Jeu du pendu niv.1">
					‚úèÔ∏è TP 9 - Jeu du pendu niv.1
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">‚òê</span-->
				<a href="tp10.html#‚úèÔ∏è TP 10 - Jeu du pendu niv.2">
					‚úèÔ∏è TP 10 - Jeu du pendu niv.2
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">‚òê</span-->
				<a href="tp11.html#‚úèÔ∏è TP 11 - Jeu du pendu niv.3">
					‚úèÔ∏è TP 11 - Jeu du pendu niv.3
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">‚òê</span-->
				<a href="exos_notes.html#üìù Exercices not√©s">
					üìù Exercices not√©s
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">‚òê</span-->
				<a href="cc1_2021.html#üìù Contr√¥le continu 1">
					üìù Contr√¥le continu 1
				</a>
			</div>
	

	</div>
	<div id="contenu">
		

		<div class="nav_arrows">
		<div style="display: flex; flex-direction: row; justify-content: space-between; padding: 1em 0em;">
				<span>
					
						<a href="tp1.html">‚Üê Page pr√©c√©dente</a>
					
				</span>
			
				<span style="padding: 0 .5em;">
						<a href="index.html">1√®re page</a>
					</span>
			
			<span>
				
					<a href="tp3.html">Page suivante ‚Üí</a>
				
				</span>
		</div>
		</div>
		<hr>

		
	<h1 data-nb="6" id="‚úèÔ∏è TP 2 - Calculatrice niv.3 ‚úîÔ∏è">‚úèÔ∏è TP 2 - Calculatrice niv.3 ‚úîÔ∏è</h1>
<div class="exercice">
<h2 data-nb="6.1" id="Question 1">Question 1</h2>
<p>Partant de la solution du dernier exercice du TP pr√©c√©dent, forcer l'utilisateur √† ne pouvoir entrer que l'une des 4 op√©rations autoris√©es: addition,
			soustraction, division, multiplication.</p>
<p>S'il / elle entre n'importe quoi d'autre, le programme affiche un message d'erreur adapt√©, et redemande encore et encore l'op√©ration, jusqu'√† ce que
			celle-ci soit l'une de celles permises.</p>
<div class="correction">
<pre class="line-numbers"><code class="language-python">
				def avoir_nombre_utilisateur(message):
					nb_est_correct = False
					while not nb_est_correct:
						txt_utilisateur = input(message)
						try:
							nombre = float(txt_utilisateur)
							nb_est_correct = True
						except:
							print(txt_utilisateur, "n'est pas un nombre")
					return nombre


				# Obtenir nombres
				nb1 = avoir_nombre_utilisateur("Nombre 1: ")
				nb2 = avoir_nombre_utilisateur("Nombre 2: ")

				# Obtenir op
				op√©ration_est_correcte = False
				while not op√©ration_est_correcte:
					op = input("Op√©ration (+,-,*,/): ")
					# ‚Üì L'op√©rateur bool√©en "in" renvoit True ou False.
					# True si ce qui est √† sa gauche EST DANS la s√©quence √† sa droite,
					# donc ici si op est √©gal √† n'importe lequel des √©l√©ments de la liste.
					op√©ration_est_correcte = op in ["+", "-", "/", "*", ]
					if not op√©ration_est_correcte:
						print(op, "n'est pas une op√©ration support√©e")

				# Calculer et afficher r√©sultat
				if op == "+":
					print(nb1, "+", nb2, "=", nb1 + nb2)
				elif op == "-":
					print(nb1, "-", nb2, "=", nb1 - nb2)
				elif op == "/":
					print(nb1, "/", nb2, "=", nb1 / nb2)
				else:
					print(nb1, "*", nb2, "=", nb1 * nb2)
			</code></pre>
<p>Remarques:</p>
<ul>
<li><p>Ne pas confondre le <code>try-except</code> avec le <code>if-else</code>.</p>
<p><code>if-else</code> sert √† faire telle ou telle action selon une condition, par exemple si l'utilisateur n'a pas entr√© une op√©ration
						support√©e (+,-,/,*). </p>
<p><code>try-except</code> sert √† garder le contr√¥le sur l'ex√©cution du programme en cas d'erreur (erreur au sens ex√©cution impossible par
						Python, pas une erreur du point de vue de l'utilisateur), par exemple si on tente de transformer en <code>int</code> ou
						<code>float</code> le texte de l'utilisateur.</p>
</li>
<li><p>Comment savoir s'il faut utiliser <code>try-except</code> ou <code>if-else</code>?</p>
<p>Si un morceau de code que vous voulez ex√©cuter peut provoquer des erreurs qui sont affich√©es en rouge dans la console, et qui stoppent le
						programme, il faut un <code>try-except</code> pour intercepter l'erreur si elle survient, et vous permettre de continuer l'ex√©cution du
						programme.</p>
<p>Si le code ne provoque pas d'erreur potentiellement, mais que vous voulez faire des actions diff√©rentes selon une condition, alors
						utiliser un <code>if-else</code>. </p></li>
<li><p>Une version alternative de <code>op in ["+", "-", "/", "*", ]</code> pourrait √™tre:</p>
<pre><code class="language-python">
						op√©ration_est_correcte = op == "+" or op == "-" or op == "/" or op == "*"
					</code></pre>
</li>
</ul>
</div>
</div>
<div class="exercice">
<h2 data-nb="6.2" id="Question 2">Question 2</h2>
<p>Partant de la solution de l'exercice pr√©c√©dent, r√©p√©ter l'ensemble du programme ind√©finiment, pour permettre √† l'utilisateur de faire autant de
			calculs qu'il / elle souhaite.</p>
<p>A chaque fois qu'un calcul a √©t√© r√©alis√©, demander √† l'utilisateur s'il / elle souhaite continuer ou arr√™ter. Si l'utilisateur d√©cide d'arr√™ter, le
			programme se termine. Sinon il recommence en demandant √† nouveaux deux nombre, l'op√©ration et affiche le r√©sultat.</p>
<div class="correction">
<pre class="line-numbers"><code class="language-python">
				def avoir_nombre_utilisateur(message):
					nb_est_correct = False
					while not nb_est_correct:
						txt_utilisateur = input(message)
						try:
							nombre = float(txt_utilisateur)
							nb_est_correct = True
						except:
							print(txt_utilisateur, "n'est pas un nombre")
					return nombre

				# Boucle pour r√©p√©ter les calculs
				utilisateur_veut_continuer = True
				while utilisateur_veut_continuer:
					nb1 = avoir_nombre_utilisateur("Nombre 1: ")
					nb2 = avoir_nombre_utilisateur("Nombre 2: ")

					op√©ration_est_correcte = False
					while not op√©ration_est_correcte:
						op = input("Op√©ration (+,-,*,/): ")
						op√©ration_est_correcte = op in ["+", "-", "/", "*", ]
						if not op√©ration_est_correcte:
							print(op, "n'est pas une op√©ration support√©e")

					if op == "+":
						print(nb1, "+", nb2, "=", nb1 + nb2)
					elif op == "-":
						print(nb1, "-", nb2, "=", nb1 - nb2)
					elif op == "/":
						print(nb1, "/", nb2, "=", nb1 / nb2)
					else:
						print(nb1, "*", nb2, "=", nb1 * nb2)

					# Demander utilisateur si veut continuer
					r√©ponse_utilisateur = input("Faire nouveau calcul? (o pour oui): ")
					utilisateur_veut_continuer = r√©ponse_utilisateur == "o"
			</code></pre>
<p>Remarques:</p>
<ul>
<li><p>Sur la derni√®re ligne, ne pas confondre <code>=</code> avec <code>==</code>.</p>
<p><code>==</code> est un op√©rateur bool√©en, qui vaut <code>True</code> quand les deux √©l√©ments √† gauche et √† droite sont √©gaux. Sur cette
						ligne de code en particulier, <code>==</code> est ex√©cut√© en premier, et vaut <code>True</code> si <code>r√©ponse_utilisateur</code> est
						√©gal √† <code>"o"</code>, <code>False</code> sinon.</p>
<p><code>=</code> est l'instruction d'affectation de valeur √† une variable, et sera ex√©cut√© APR√àS le <code>==</code>, c'est √† dire la
						variable <code>utilisateur_veut_continuer</code> prendra la valeur du r√©sultat du test <code>==</code> (c'est √† dire <code>True</code>
						ou <code>False</code>).</p>
</li>
</ul>
</div>
</div>
<div class="exercice">
<h2 data-nb="6.3" id="Question 3">Question 3</h2>
<p>Partant de la solution de l'exercice pr√©c√©dent, on veut rendre le code plus lisible et simple √† comprendre. On n'ajoute aucune nouvelle
			fonctionnalit√© du point de vue de l'utilisateur, on adapte le code pour l'am√©liorer.</p>
<p>Mettre dans une fonction tout le code qui sert √† un seul calcul, et donc PAS le code qui sert √† r√©p√©ter les calculs si l'utilisateur souhaite en
			faire d'autres. Utiliser / ex√©cuter ensuite cette fonction avec le code qui r√©p√®te les caluls.</p>
<div class="correction">
<pre class="line-numbers"><code class="language-python">
				def avoir_nombre_utilisateur(message):
					nb_est_correct = False
					while not nb_est_correct:
						txt_utilisateur = input(message)
						try:
							nombre = float(txt_utilisateur)
							nb_est_correct = True
						except:
							print(txt_utilisateur, "n'est pas un nombre")
					return nombre


				# D√©finition de notre seconde fonction
				def faire_calcul_utilisateur():
					nb1 = avoir_nombre_utilisateur("Nombre 1: ")
					nb2 = avoir_nombre_utilisateur("Nombre 2: ")

					op√©ration_est_correcte = False
					while not op√©ration_est_correcte:
						op = input("Op√©ration (+,-,*,/): ")
						op√©ration_est_correcte = op in ["+", "-", "/", "*", ]
						if not op√©ration_est_correcte:
							print(op, "n'est pas une op√©ration support√©e")

					if op == "+":
						print(nb1, "+", nb2, "=", nb1 + nb2)
					elif op == "-":
						print(nb1, "-", nb2, "=", nb1 - nb2)
					elif op == "/":
						print(nb1, "/", nb2, "=", nb1 / nb2)
					else:
						print(nb1, "*", nb2, "=", nb1 * nb2)


				utilisateur_veut_continuer = True
				while utilisateur_veut_continuer:

					# Appel de la fonction
					faire_calcul_utilisateur()

					r√©ponse_utilisateur = input("Faire nouveau calcul? (o pour oui): ")
					utilisateur_veut_continuer = r√©ponse_utilisateur == "o"
			</code></pre>
<p>Remarques:</p>
<ul>
<li>On ex√©cute notre fonction <code>avoir_nombre_utilisateur</code> dans notre seconde fonction <code>faire_calcul_utilisateur</code>. Il est
					fr√©quent en programmation d'utiliser nos fonctions dans d'autres de nos fonctions.
				</li>
<li><p>La fonction <code>avoir_nombre_utilisateur</code> retourne un r√©sultat avec l'instruction <code>return</code>. En revanche la fonction
					<code>faire_calcul_utilisateur</code> ne retourne aucun r√©sultat, car c'est ce qu'on souhaite: qu'elle fasse tout le travail de demander les
					nombres et l'op√©rateur √† l'utilisateur et lui affiche le r√©sultat. On a d√©cid√© que la fonction ne sert pas √† renvoyer un quelconque
					r√©sultat, seul nous importe qu'elle fasse ce qu'elle doit faire.</p>
<p>Dans notre boucle <code>while</code> tout en bas, on veut juste appeler la fonction, et qu'elle fasse <em>elle-m√™me</em> tout le calcul
						et l'affichage. Dans ce cas, un <code>return</code> dans la fonction est inutile.</p>
<p>Rappelez-vous cependant que m√™me si on n'√©crit aucun <code>return</code>, une fonction retourne quand m√™me <code>None</code> par d√©faut.
					</p></li>
</ul>
</div>
</div>



		<div class="nav_arrows">
			<hr>
			
		<div style="display: flex; flex-direction: row; justify-content: space-between; padding: 1em 0em;">
				<span>
					
						<a href="tp1.html">‚Üê Page pr√©c√©dente</a>
					
				</span>
			
				<span style="padding: 0 .5em;">
						<a href="index.html">1√®re page</a>
					</span>
			
			<span>
				
					<a href="tp3.html">Page suivante ‚Üí</a>
				
				</span>
		</div>
		
		</div>

	</div>

	
		<style>
			@media only screen and (min-width: 70em) {
				#side_nav_bar {
					width: 25vw;
				}

				#contenu {
					width: 75vw;
				}
			}
		</style>
	


</div>
  
<script src="prism.js"></script>

<script>
	if (document.URL.indexOf("localhost") === -1) {
		//console.log("pas localhost");
		document.querySelector("link[rel = 'icon']").setAttribute("href", "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='200' height='200' viewBox='0 0 100 100' style='display:block; margin:auto; padding: 0 0 1em 0;'%3E%3Cstyle%3E text %7B text-align: center; fill: white; text-anchor: middle; font-size: 11pt; %3C/style%3E%3C!--	%3Crect fill='hsl(000,50%25, 50%25)' x='0' y='0' width='100' height='100'%3E%3C/rect%3E--%3E%3Crect fill='hsl(200,50%25, 50%25)' x='0' y='0' width='100' height='100'%3E%3C/rect%3E%3Ctext x='50' y='75' style='font-size: 50pt;' id='t'%3E üêç %3C/text%3E%3C!--	%3Canimate--%3E%3C!-- xlink:href='%23t'--%3E%3C!-- attributeName='y'--%3E%3C!-- calcMode='spline'--%3E%3C!-- values='60; 90; 60'--%3E%3C!-- keyTimes='0; 0.5; 1'--%3E%3C!-- keySplines='--%3E%3C!-- .42 0 1 1;--%3E%3C!-- 0 0 .59 1;'--%3E%3C!-- dur='2s'--%3E%3C!-- fill='freeze'--%3E%3C!-- repeatCount='indefinite'/%3E--%3E%3C/svg%3E");
	} else {
		//console.log("localhost");
	}
	// On supprime la premi√®re ligne des <pre><code> qui est consid√©r√©e toujours vide et inutile
	const codes = document.querySelectorAll('pre[class="affichage_console"] code');
	
	codes.forEach(function (el) {
		// Attention: modifier textContent ou innerText d'un √©l√©ment d√©truit tous ses √©l√©ments enfant :(
		//el.textContent = el.textContent.replace(/^\n/, '');
		// On modifie donc le premie noeud texte uniquement
		el.childNodes[0].textContent = el.childNodes[0].textContent.replace(/^\n/, ''); // suppose que c'est un √©l√©ment texte
	});

	// On ajoute un <br> avant et apr√®s chaque <pre>
	let pres = document.querySelectorAll('pre, .exercices div.not√©');
	pres.forEach(function (el) {
		el.parentNode.insertBefore(document.createElement('div'), el);
		el.parentNode.insertBefore(document.createElement('div'), el.nextSibling);
	});

	// On ajoute 'Affichage' avant chaque affichage console
	pres = document.querySelectorAll('pre[class="affichage_console"]');
	pres.forEach(function (el) {
		const p = document.createElement('p');
		p.innerHTML = `<small>‚Üì Affichage dans la console (ou dans le shell, selon o√π vous lancez l'ex√©cution)<mall>`;
		p.classList.add("l√©gende_plac√©e_en_haut");
		el.parentNode.insertBefore(p, el);
	});

	// Cacher corrections dans les TD / TP, et permettre de les afficher
	let divs_correction = document.querySelectorAll('div[class="correction"]');
	divs_correction.forEach(function (div) {
		div.classList.add("correction_hidden");
		const p = document.createElement('p');
		p.innerHTML = `<span class="correction_lien_√†_cliquer">üìù Afficher / cacher correction ‚úì</span>`;
		p.onclick = function (evt) {
			div.classList.toggle("correction_hidden");
		};
		div.parentNode.insertBefore(p, div);
	});
</script>
</body>
</html>