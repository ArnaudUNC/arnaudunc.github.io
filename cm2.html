<!DOCTYPE html>
<html lang="fr">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>ğŸ“– Cours 2: Programmation orientÃ©e objets | Algo et prog 2 en Python</title>
	<link href="prism.css" rel="stylesheet"/>
	<link href="style.css" rel="stylesheet"/>
	<link rel="icon" href="img/favicon.svg">
</head>
<body>
<div id="conteneur">
	<div id="side_nav_bar">
		<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 100 100" style="display:block; margin:auto; padding: 0 0 1em 0;">
	<style>
		text {
			text-align: center;
			fill: white;
			text-anchor: middle;
			font-size: 11pt;
		}
	</style>
	<rect fill="hsl(200,50%, 50%)" x="0" y="0" width="100" height="100"></rect>
	<text x="50" y="45" style="font-size: 30pt;">
		ğŸ

	</text>
	<text x="50" y="75">
		Algo et prog 2
	</text>
	<text x="50" y="90">
		en Python
	</text>
</svg>

	
			<div class="h h1">
				<!--span class="ballot_box">â˜’</span-->
				<a href="index.html#Introduction">
					Introduction
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">â˜’</span-->
				<a href="groupes.html#Groupes de TD / TP">
					Groupes de TD / TP
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">â˜’</span-->
				<a href="cm1.html#ğŸ“– Cours 1: rappels">
					ğŸ“– Cours 1: rappels
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">â˜’</span-->
				<a href="td1.html#âœï¸ TD 1 - Calculatrice niv.1 âœ”ï¸">
					âœï¸ TD 1 - Calculatrice niv.1 âœ”ï¸
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">â˜’</span-->
				<a href="tp1.html#âœï¸ TP 1 - Calculatrice niv.2 âœ”ï¸">
					âœï¸ TP 1 - Calculatrice niv.2 âœ”ï¸
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">â˜’</span-->
				<a href="tp2.html#âœï¸ TP 2 - Calculatrice niv.3 âœ”ï¸">
					âœï¸ TP 2 - Calculatrice niv.3 âœ”ï¸
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">â˜’</span-->
				<a href="tp3.html#âœï¸ TP 3 - Calculatrice niv.4 âœ”ï¸">
					âœï¸ TP 3 - Calculatrice niv.4 âœ”ï¸
				</a>
			</div>
	

	
			<div class="page_actuelle h h1">
				<!--span class="ballot_box">â˜</span-->
				<a href="#ğŸ“– Cours 2: Programmation orientÃ©e objets">
					ğŸ“– Cours 2: Programmation orientÃ©e objets
				</a>
			</div>
			<div class="page_actuelle h h2">
				<!--span class="ballot_box">â˜</span-->
				<a href="#Vue d'ensemble">
					Vue d'ensemble
				</a>
			</div>
			<div class="page_actuelle h h3">
				<!--span class="ballot_box">â˜</span-->
				<a href="#RÃ©sumÃ© schÃ©matique">
					RÃ©sumÃ© schÃ©matique
				</a>
			</div>
			<div class="page_actuelle h h3">
				<!--span class="ballot_box">â˜</span-->
				<a href="#Exemple schÃ©matique">
					Exemple schÃ©matique
				</a>
			</div>
			<div class="page_actuelle h h2">
				<!--span class="ballot_box">â˜</span-->
				<a href="#Classes">
					Classes
				</a>
			</div>
			<div class="page_actuelle h h2">
				<!--span class="ballot_box">â˜</span-->
				<a href="#MÃ©thodes">
					MÃ©thodes
				</a>
			</div>
			<div class="page_actuelle h h2">
				<!--span class="ballot_box">â˜</span-->
				<a href="#Attributs et constructeur">
					Attributs et constructeur
				</a>
			</div>
			<div class="page_actuelle h h2">
				<!--span class="ballot_box">â˜</span-->
				<a href="#Exemple">
					Exemple
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">â˜</span-->
				<a href="td2.html#âœï¸ TD 2 - Prog. objets niv.1 âœ”ï¸">
					âœï¸ TD 2 - Prog. objets niv.1 âœ”ï¸
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">â˜</span-->
				<a href="tp4.html#âœï¸ TP 4 - Prog. objets niv.2 âœ”ï¸">
					âœï¸ TP 4 - Prog. objets niv.2 âœ”ï¸
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">â˜</span-->
				<a href="tp5.html#âœï¸ TP 5 - Prog. objets niv.3 âœ”ï¸">
					âœï¸ TP 5 - Prog. objets niv.3 âœ”ï¸
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">â˜</span-->
				<a href="tp6.html#âœï¸ TP 6 - Prog. objets niv.4 âœ”ï¸">
					âœï¸ TP 6 - Prog. objets niv.4 âœ”ï¸
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">â˜</span-->
				<a href="tp7.html#âœï¸ TP 7 - Prog. objets niv.5 âœ”ï¸">
					âœï¸ TP 7 - Prog. objets niv.5 âœ”ï¸
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">â˜</span-->
				<a href="cm3.html#ğŸ“– Cours 3: fonctionnalitÃ©s de Python">
					ğŸ“– Cours 3: fonctionnalitÃ©s de Python
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">â˜</span-->
				<a href="td3.html#âœï¸ TD 3 âœ”ï¸">
					âœï¸ TD 3 âœ”ï¸
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">â˜</span-->
				<a href="cm4.html#ğŸ“– Cours 4: rappels et complÃ©ments">
					ğŸ“– Cours 4: rappels et complÃ©ments
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">â˜</span-->
				<a href="tp8.html#âœï¸ TP 8 âœ”ï¸">
					âœï¸ TP 8 âœ”ï¸
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">â˜</span-->
				<a href="tp9.html#âœï¸ TP 9 - Jeu du pendu niv.1">
					âœï¸ TP 9 - Jeu du pendu niv.1
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">â˜</span-->
				<a href="exos_notes.html#ğŸ“ Exercices notÃ©s">
					ğŸ“ Exercices notÃ©s
				</a>
			</div>
	

	
			<div class="h h1">
				<!--span class="ballot_box">â˜</span-->
				<a href="cc1_2021.html#ğŸ“ ContrÃ´le continu 1">
					ğŸ“ ContrÃ´le continu 1
				</a>
			</div>
	

	</div>
	<div id="contenu">
		

		<div class="nav_arrows">
		<div style="display: flex; flex-direction: row; justify-content: space-between; padding: 1em 0em;">
				<span>
					
						<a href="tp3.html">â† Page prÃ©cÃ©dente</a>
					
				</span>
			
				<span style="padding: 0 .5em;">
						<a href="index.html">1Ã¨re page</a>
					</span>
			
			<span>
				
					<a href="td2.html">Page suivante â†’</a>
				
				</span>
		</div>
		</div>
		<hr>

		
	<h1 data-nb="8" id="ğŸ“– Cours 2: Programmation orientÃ©e objets">ğŸ“– Cours 2: Programmation orientÃ©e objets</h1>
	
	
	
	

	<p>Comme en Python tout est objet, il est nÃ©cessaire d'introduire les concepts objets le plus tÃ´t possible. On va abrÃ©ger "programmation orientÃ©e objet" par
		POO.</p>
<p>La POO va nous servir pour crÃ©er de nouveaux types de donnÃ©es personnalisÃ©s. D'abord on dÃ©clarera nos types, on pourra ensuite crÃ©er et utiliser des
		variables de ces types.</p>
<h2 data-nb="8.1" id="Vue d'ensemble">Vue d'ensemble</h2>
<h3 data-nb="8.1.1" id="RÃ©sumÃ© schÃ©matique">RÃ©sumÃ© schÃ©matique</h3>
<img alt="" src="https://docs.google.com/drawings/d/e/2PACX-1vTP7slzFzZ_FZNVZPB32HmZLaX1nhCMsVd34ruOV2x5WctKnDzDtuqruPaIe7Xrx1SMOUHaBpCvx_mW/pub?w=722&amp;h=805"/>
<h3 data-nb="8.1.2" id="Exemple schÃ©matique">Exemple schÃ©matique</h3>
<img alt="" src="https://docs.google.com/drawings/d/e/2PACX-1vQErg8TpLsG9IPCPLayEviBpoIyTamPx2PoZ-Dd8Xa9CsflcIsCjWinUdh3H0VH-m7xpQn13KFFdAFk/pub?w=572&amp;h=635"/>
<h2 data-nb="8.2" id="Classes">Classes</h2>
<p>ConcrÃ¨tement une classe est un nouveau type qu'on dÃ©clare. En Python cela s'Ã©crit:</p>
<pre><code class="language-python">
		# â†“ DÃ©clare une nouvelle classe.
		# Remarquez le M majuscule, le nom d'une classe commence par une majuscule
		class MonNouveauType:
			pass
	</code></pre>
<p><code>pass</code> est une instruction qui ne fait rien. Elle sert Ã  crÃ©er un bloc d'instruction vide, car autrement Ã§a serait incorrect syntaxiquement.
	</p>
<pre><code class="language-python">
		# â†“ "if" vide incorrect âŒ: un bloc doit avoir au moins une ligne
		if True:

		# â†“ "if" vide correct âœ”ï¸: "pass" ne fait rien, parfait pour un bloc vide
		if True:
			pass
	</code></pre>
<p>Cette classe ne fait rien de spÃ©cial, mais elle existe. On dÃ©marre toujours en POO le nom d'une classe par une majuscule. C'est une convention. A part
		Ã§a, son nom respecte les mÃªmes rÃ¨gles et limites que le nom des variables (pas d'espace, doit commencer par une lettre, pas de caractÃ¨res autres que
		alpha-numÃ©riques et _). Maintenant on peut crÃ©er des variables de ce type:</p>
<pre><code class="language-python">
		# CrÃ©e une instance de la nouvelle classe
		ma_variable = MonNouveauType()
	</code></pre>
<p>On appelle la donnÃ©e vers laquelle pointe <code>ma_variable</code> un <strong>objet</strong>. Celui-ci est une <strong>instance</strong> de la classe
		<code>MonNouveauType</code>. On appelle aussi <strong>instanciation</strong> la crÃ©ation d'un nouvel objet, du verbe <strong>instancier</strong>.
		Attention Ã  bien mettre les parenthÃ¨ses <code>MonNouveauType()</code>, la classe s'appelle/s'execute/s'invoque comme une fonction, et sa valeur de
		retour est une nouvelle instance d'elle-mÃªme. Une classe est comme un modÃ¨le Ã  partir duquel on crÃ©Ã© des exemplaires spÃ©cifiques d'elle.</p>
<h2 data-nb="8.3" id="MÃ©thodes">MÃ©thodes</h2>
<p>Les instances de notre classe ne peuvent rien faire car elle est vide pour l'instant. Donnons-leur quelque chose Ã  faire:</p>
<pre><code class="language-python">
		class MonNouveauType:
			def dire_bonjour(self):
				print("Bonjour")
	</code></pre>
<p>On vient de crÃ©er une fonction <code>dire_bonjour</code> Ã  l'intÃ©rieur de la classe, qui prend un paramÃ¨tre au nom Ã©trange <code>self</code>, qui
		signifie "soi-mÃªme" en anglais. Cette fonction est une <strong>mÃ©thode</strong>. Une mÃ©thode sert Ã  donner des actions possibles que nos objets pourront
		effectuer, sur eux-mÃªme, et/ou sur d'autres donnÃ©es. Elle s'utilise de la faÃ§on suivante:</p>
<pre><code class="language-python">
		ma_variable = MonNouveauType()

		# Appel de la mÃ©thode "dire_bonjour" de variable "ma_variable"
		ma_variable.dire_bonjour()
	</code></pre>
<p>On a appelÃ© la mÃ©thode de l'objet <code>ma_variable</code>. Remarquez que le paramÃ¨tre <code>self</code> n'est pas spÃ©cifiÃ©. Celui-ci est en fait la
		variable <code>ma_variable</code>, mais au moment de l'appel, on ne le prÃ©cise pas, cela est fait automatiquement pour nous.</p>
<p>On peut passer d'autres paramÃ¨tres aux mÃ©thodes, et on peut Ã©galement utiliser le paramÃ¨tre <code>self</code> dans le corps de la mÃ©thode</p>
<pre><code class="language-python">
		class MonNouveauType:
			def dire_bonjour(self, message):
				print("self =", self)
				print(type(self))
				print("Bonjour", message)

		ma_variable = MonNouveauType()
		ma_variable.dire_bonjour("Ã  tous")
	</code></pre>
<pre class="affichage_console"><code>
self = &lt;__main__.MonNouveauType object at 0x000001D1ACFF02C8&gt;
&lt;class '__main__.MonNouveauType'&gt;
Bonjour Ã  tous
&gt;</code></pre>
<p>On peut appeler des mÃ©thodes dans d'autres mÃ©thodes:</p>
<pre><code class="language-python">
		class MonNouveauType:

			def methodeA(self):
				print("MÃ©thode A exÃ©cutÃ©e")

			def methodeB(self):
				print("MÃ©thode B exÃ©cutÃ©e")
				self.methodeA()

		var1 = MonNouveauType()
		var1.methodeB()
	</code></pre>
<pre class="affichage_console"><code>
MÃ©thode B exÃ©cutÃ©e
MÃ©thode A exÃ©cutÃ©e
&gt;</code></pre>
<h2 data-nb="8.4" id="Attributs et constructeur">Attributs et constructeur</h2>
<p>Chacun de nos objets, en plus de leurs mÃ©thodes, peuvent aussi avoir leur propres donnÃ©es, qu'on appelle <strong>attributs</strong> ou <strong>variables
		d'instance</strong>. Celles-ci sont dÃ©clarÃ©es dans le <strong>constructeur</strong> de la classe:</p>
<pre><code class="language-python">
		class MonNouveauType:
			def __init__(self):
				self.un_attribut = "Salut"

			def dire_bonjour(self, message):
				print("self =", self)
				print(type(self))
				print("Bonjour", message)

		ma_variable = MonNouveauType()

		# On peut lire les attributs d'un objet
		print(ma_variable.un_attribut) # Affiche "Salut"

		# On peut aussi les modifier
		ma_variable.un_attribut = "Coucou"
	</code></pre>
<p>Le constructeur est unique dans chaque classe, c'est une mÃ©thode particuliÃ¨re qui a le nom <code>__init__</code> (double <code>_</code> de chaque cÃ´tÃ©),
		qui prend aussi <code>self</code> en paramÃ¨tre. Cette mÃ©thode est appelÃ©e Ã  chaque fois qu'on crÃ©e une nouvelle instance, elle sert Ã  l'initialiser. En
		particulier, c'est dans le constructeur qu'on donne Ã  l'objet ses attributs, qui sont des variables qui lui sont propres, attachÃ©es.</p>
<p>Le constructeur peut prendre d'autres paramÃ¨tres que <code>self</code>, ce qui permet de configurer chaque objet au moment de leur crÃ©ation:</p>
<pre><code class="language-python">
		class MonNouveauType:

			# Un constructeur peut avoir des paramÃ¨tres autres que self
			def __init__(self, un_prÃ©nom):
				self.prÃ©nom = un_prÃ©nom

			def dire_bonjour(self, message):
				# On peut lire (et modifier) les attributs dans les mÃ©thodes
				print("Bonjour", message, "! Je m'appelle", self.prÃ©nom)

		var1 = MonNouveauType("Toto")
		var2 = MonNouveauType("Adrien")

		var1.dire_bonjour("Ã  tous")
		var2.dire_bonjour("tout le monde")
	</code></pre>
<pre class="affichage_console"><code>
Bonjour Ã  tous ! Je m'appelle Toto
Bonjour tout le monde ! Je m'appelle Adrien
&gt;</code></pre>
<h2 data-nb="8.5" id="Exemple">Exemple</h2>
<pre><code class="language-python">
		# On crÃ©Ã© une classe pour dÃ©crire des personnages dans un jeu.
		class Personnage:

			# Le constructeur, on devra fournir le nom initial de chaque nouveau perso.
			def __init__(self, nom_initial):
				# CrÃ©ation de l'attribut "nom".
				self.nom = nom_initial
				# CrÃ©ation de l'attribut "points_vie".
				self.points_vie = 100

			# MÃ©thode pour qu'un perso puisse s'afficher facilement dans la console
			def afficher(self):
				print("Nom perso=", self.nom, "PV:", self.points_vie)

			# MÃ©thode pour qu'un perso puisse attaquer un autre
			def attaquer_perso(self, perso_cible):
				perso_cible.points_vie -= 10

		# â†“ Instanciation de diffÃ©rents persos,
		# â†“ et appels de certaines de leurs mÃ©thodes.

		joueur = Personnage("Ulysse")
		joueur.afficher()

		ennemi = Personnage("Cyclope")
		ennemi.afficher()
		joueur.attaquer_perso(ennemi)
		ennemi.afficher()

		marchand = Personnage("Marchand")
		marchand.afficher()
		ennemi.attaquer_perso(marchand)
		marchand.afficher()

		boss = Personnage("Big guy")
		boss.afficher()
	</code></pre>
<!--h3>HÃ©ritage</h3>
	<p>Une classe peut Ãªtre construite Ã  partir d'une autre, on dit qu'elle <strong>hÃ©rite</strong> de cette autre classe. On dit aussi que c'est une <strong>classe
		enfant</strong> ou <strong>sous-classe</strong> de la <strong>classe mÃ¨re</strong> ou <strong>classe parent</strong>. La classe enfant possÃ¨de toutes
		les mÃ©thodes, et tous les attributs de la classe parents, et peut les modifier et en dÃ©finir de nouveaux pour elle-mÃªme.</p>
	<p> Nous ne verrons pas cela plus en dÃ©tail, mais il faut comprendre un minimum cette notion d'hÃ©ritage pour pouvoir utiliser les exceptions.</p-->
<!--h2>Les exceptions</h2>
	<p>Vous avez dÃ©jÃ  vu les exceptions. Quand on exÃ©cute une action qui peut renvoyer une exception, si on veut pouvoir gÃ©rer le cas oÃ¹ cela se produit, on Ã©crit un bloc
	<code>try ... except ... finally</code></p>
	<pre><code class="language-python">
		class MonNouveauType:

			# Un constructeur peut avoir des paramÃ¨tres autres que self
			def __init__(self, un_prÃ©nom):
				self.prÃ©nom = un_prÃ©nom

			def dire_bonjour(self, message):
				# On peut lire (et modifier) les attributs dans les mÃ©thodes
				print("Bonjour", message, "! Je m'appelle", self.prÃ©nom)

		var1 = MonNouveauType("Toto")
		var2 = MonNouveauType("Adrien")

		var1.dire_bonjour("Ã  tous")
		var2.dire_bonjour("tout le monde")
	</code></pre-->





		<div class="nav_arrows">
			<hr>
			
		<div style="display: flex; flex-direction: row; justify-content: space-between; padding: 1em 0em;">
				<span>
					
						<a href="tp3.html">â† Page prÃ©cÃ©dente</a>
					
				</span>
			
				<span style="padding: 0 .5em;">
						<a href="index.html">1Ã¨re page</a>
					</span>
			
			<span>
				
					<a href="td2.html">Page suivante â†’</a>
				
				</span>
		</div>
		
		</div>

	</div>

	
		<style>
			@media only screen and (min-width: 70em) {
				#side_nav_bar {
					width: 25vw;
				}

				#contenu {
					width: 75vw;
				}
			}
		</style>
	


</div>
  
<script src="prism.js"></script>

<script>
	// On supprime la premiÃ¨re ligne des <pre><code> qui est considÃ©rÃ©e toujours vide et inutile
	const codes = document.querySelectorAll('pre[class="affichage_console"] code');
	
	codes.forEach(function (el) {
		// Attention: modifier textContent ou innerText d'un Ã©lÃ©ment dÃ©truit tous ses Ã©lÃ©ments enfant :(
		//el.textContent = el.textContent.replace(/^\n/, '');
		// On modifie donc le premie noeud texte uniquement
		el.childNodes[0].textContent = el.childNodes[0].textContent.replace(/^\n/, ''); // suppose que c'est un Ã©lÃ©ment texte
	});

	// On ajoute un <br> avant et aprÃ¨s chaque <pre>
	let pres = document.querySelectorAll('pre, .exercices div.notÃ©');
	pres.forEach(function (el) {
		el.parentNode.insertBefore(document.createElement('div'), el);
		el.parentNode.insertBefore(document.createElement('div'), el.nextSibling);
	});

	// On ajoute 'Affichage' avant chaque affichage console
	pres = document.querySelectorAll('pre[class="affichage_console"]');
	pres.forEach(function (el) {
		const p = document.createElement('p');
		p.innerHTML = `<small>â†“ Affichage dans la console (ou dans le shell, selon oÃ¹ vous lancez l'exÃ©cution)<mall>`;
		p.classList.add("lÃ©gende_placÃ©e_en_haut");
		el.parentNode.insertBefore(p, el);
	});

	// Cacher corrections dans les TD / TP, et permettre de les afficher
	let divs_correction = document.querySelectorAll('div[class="correction"]');
	divs_correction.forEach(function (div) {
		div.classList.add("correction_hidden");
		const p = document.createElement('p');
		p.innerHTML = `<span class="correction_lien_Ã _cliquer">ğŸ“ Afficher / cacher correction âœ“</span>`;
		p.onclick = function (evt) {
			div.classList.toggle("correction_hidden");
		};
		div.parentNode.insertBefore(p, div);
	});
</script>
</body>
</html>