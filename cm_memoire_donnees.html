<!DOCTYPE html>
<html lang="fr">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>M√©moire et mod√®le de donn√©es | Algo et prog 2 en Python</title>
	<link href="prism.css" rel="stylesheet"/>
	<link href="style.css" rel="stylesheet"/>
	<!--link rel="icon" href="img/favicon.svg"-->
	<link rel="icon"
			href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='200' height='200' viewBox='0 0 100 100' style='display:block; margin:auto; padding: 0 0 1em 0;'%3E%3Cstyle%3E text %7B text-align: center; fill: white; text-anchor: middle; font-size: 11pt; %3C/style%3E%3Crect fill='hsl(000,50%25, 50%25)' x='0' y='0' width='100' height='100'%3E%3C/rect%3E%3C!--	%3Crect fill='hsl(200,50%25, 50%25)' x='0' y='0' width='100' height='100'%3E%3C/rect%3E--%3E%3Ctext x='50' y='75' style='font-size: 50pt;' id='t'%3E üêç %3C/text%3E%3C!--	%3Canimate--%3E%3C!-- xlink:href='%23t'--%3E%3C!-- attributeName='y'--%3E%3C!-- calcMode='spline'--%3E%3C!-- values='60; 90; 60'--%3E%3C!-- keyTimes='0; 0.5; 1'--%3E%3C!-- keySplines='--%3E%3C!-- .42 0 1 1;--%3E%3C!-- 0 0 .59 1;'--%3E%3C!-- dur='2s'--%3E%3C!-- fill='freeze'--%3E%3C!-- repeatCount='indefinite'/%3E--%3E%3C/svg%3E">
</head>
<body>
<div id="conteneur">
	<div id="side_nav_bar">
		<!--svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 100 100" style="display:block; margin:auto; padding: 0 0 1em 0;">
	<style>
		text {
			text-align: center;
			fill: white;
			text-anchor: middle;
			font-size: 11pt;
		}
	</style>
	<rect fill="#4B8BBE" x="0" y="0" width="100" height="100"></rect>
	<text x="50" y="45" style="font-size: 30pt;">
		üêç

	</text>
	<text x="50" y="75" fill="#FFE873">
		Algo et prog 2
	</text>
	<text x="50" y="90" fill="#FFE873">
		en Python
	</text>
</svg-->

<div style="color:#4B8BBE; font-size: 200%; padding: 2%; text-align: center">
	Algo. et prog. 2 en
</div>
<img src="img/python-logo-generic.png" alt="Logo de Python" style="width: 100%; max-width: 19em; display:block; margin:auto;">
<div style="text-align: center; opacity: 0.5; font-size: small">Arnaud COUTURIER - Python 3.10</div>


























		<div class=" h h1">
			<!--span class="ballot_box">‚òí</span-->
			<a href="index.html">
				Introduction
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òí</span-->
			<a href="cm_pass.html">
				L'instruction pass
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òí</span-->
			<a href="cm_exceptions.html">
				Les exceptions
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òí</span-->
			<a href="cm_spec_impl_versions.html">
				Sp√©cification, impl√©mentations et versions
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òí</span-->
			<a href="cm_methodes_exec.html">
				Fa√ßons d'ex√©cuter un programme Python
			</a>
		</div>

		<div class="page_actuelle h h1">
			<!--span class="ballot_box">‚òê</span-->
			<a href="cm_memoire_donnees.html">
				M√©moire et mod√®le de donn√©es
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òê</span-->
			<a href="cm_prog_objets.html">
				Programmation objets
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òê</span-->
			<a href="cm_namespaces_modules.html">
				Namespaces et modules
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òê</span-->
			<a href="td1.html">
				‚úçÔ∏è TD 1 - Calculatrice niv.1
			</a>
		</div>

	</div>
	<div id="contenu">
		


		
	
	<h1 data-nb="6" id="M√©moire et mod√®le de donn√©es">M√©moire et mod√®le de donn√©es</h1>
<p>Creusons un peu plus dans les notions fondamentales en Python que sont les objets, les types de donn√©es et la m√©moire de l'ordinateur.</p>

	
	<h2 data-nb="6.1" id="Objets">Objets</h2>
<p>Toute forme de donn√©e en Python est repr√©sent√©e par des <strong>objets</strong>, que √ßa soit les nombres, les cha√Ænes de caract√®res, les listes, les
		tuples etc... M√™me les fonctions sont repr√©sent√©es sous forme d'objets.</p>
<p>Par exemple le <code>int</code> <code>5</code> est un objet, tout comme la <code>str</code> <code>"bonjour"</code>, le <code>bool</code>
<code>True</code> ou la liste <code>[3, 10, 8]</code>.</p>
<p>Les objets existent dans un espace m√©moire qui leur est r√©serv√©.</p>
<p>Voici donc conceptuellement comment les donn√©es d'un programme en Python sont repr√©sent√©es</p>
<img alt="" src="img/memoire_modele_donnees/objets_simples2.png"/>
<p>Le terme <em>objet</em> fait r√©f√©rence √† la <em>Programmation Orient√©e Objet</em> (POO), qu‚Äôon appelle aussi <em>Programmation Objet</em> (PO), qui est
		une fa√ßon de repr√©senter et manipuler les donn√©es dans un programme. On verra plus tard un peu plus en d√©tail, pour l'instant retenons que cette
		approche a ses avantages et inconv√©nients, mais un avantage est qu‚Äôelle imite la fa√ßon d‚Äôun √™tre humain de penser et conceptualiser les choses, et non
		pas comme une machine repr√©sente les donn√©es dans sa m√©moire. Avec la programmation objets, la machine s‚Äôadapte √† l‚ÄôHomme, et pas l‚Äôinverse. </p>
<p>Un d√©savantage de l‚Äôapproche objets est une abstraction plus √©lev√©e dans la mani√®re de repr√©senter les donn√©e dans un programme, ce qui demande un effort
		ce conception de la part du d√©veloppeur plus important par rapport √† une repr√©sentation plus proche de celle de la machine. En g√©n√©ral le b√©n√©fice de la
		PO est plus important que son co√ªt, mais un √©quilibre doit √™tre maintenu entre b√©n√©fice et co√ªt.</p>

	
	<h2 data-nb="6.2" id="Types, classes et valeurs">Types, classes et valeurs</h2>
<p>Chaque objet a un <strong>type</strong>, et une <strong>valeur</strong>. Le type d√©termine les valeurs possibles que l'objet pourra avoir, par exemple un
		objet de type <code>int</code> peut avoir la valeur <code>5</code>, ou s'il est de type <code>str</code> il peut avoir la valeur <code>"Bonjour</code>.
		Le type d√©termine aussi les op√©rations possibles sur cet objet, par exemple faire une addition si c'est un <code>int</code>, le mettre en majuscule pour
		une <code>str</code>, ou avoir sa longueur si c'est un <code>list</code>. Le type d'un objet est d√©finitif et ne peux √™tre chang√©. Sa valeur par contre
		peut √™tre ou ne pas √™tre modifiable, √ßa va d√©pendre du type de l'ojet, on verra √ßa plus en d√©tails plus bas.</p>
<p>Ainsi, notre repr√©sentation des donn√©es d'un programme en Python devient:</p>
<img alt="" src="img/memoire_modele_donnees/objets_types_valeurs2.png"/>
<p>Notez qu'on √©crit les valeurs avec leur forme litt√©rale, par exemple <code>"Bonjour"</code>, c'est une fa√ßon d'√©crire facile pour un √™tre humain √† la
		fois pour lire et √©crire, mais Python repr√©sente les donn√©es sous sa propre forme interne, avec des bits et des octets. En tant qu'utilisateur de Python
		nous n'avons en g√©n√©ral pas √† nous soucier des d√©tails internes de comment Python repr√©sente les donn√©es techniquement dans la m√©moire de l'ordinateur.
		Il est cependant utile de comprendre comment tout cela fonctionne dans son ensemble.</p>
	
	<table>
<tr>
<td style="padding:1em;"><strong>Valeur litt√©rale en Python</strong></td>
<td style="padding:1em;"><strong>Repr√©sentation binaire r√©elle en m√©moire</strong></td>
</tr>
<tr>
<td style="padding:1em;">"Bonjour"</td>
<td style="padding:1em;">0010011...01110101</td>
</tr>
<tr>
<td style="padding:1em;">5</td>
<td style="padding:1em;">1010011...10111</td>
</tr>
</table>
<p>On peut obtenir le type d'un objet avec la fonction <code>type()</code>, qui prend en param√®tre n'importe quel objet, et retourne son type sous forme
		√©galement d'un objet qui repr√©sente ce type, car les types eux-m√™mes sont aussi repr√©sent√©s par des objets. En programmation objet on appelle un type
		une <strong>classe</strong>, ou <strong>class</strong> en anglais. Les mots <em>type</em> et <em>classe</em> sont synonymes.</p>
<pre><code class="language-python">
		&gt;&gt;&gt; type(5)
		&lt;class 'int'&gt;

		&gt;&gt;&gt; type("Bonjour")
		&lt;class 'str'&gt;

		&gt;&gt;&gt; type(-3.2)
		&lt;class 'float'&gt;

		&gt;&gt;&gt; type(False)
		&lt;class 'bool'&gt;
	</code></pre>
<p>On peut aussi avoir le type des objets types eux-m√™mes, en appelant <code>type()</code> sur un objet r√©sultat d'un autre appel √† <code>type()</code>:</p>
<pre><code class="language-python">
		&gt;&gt;&gt; type(type(5))
		&lt;class 'type'&gt;

		&gt;&gt;&gt; type(type("Bonjour"))
		&lt;class 'type'&gt;

		&gt;&gt;&gt; type(type(-3.2))
		&lt;class 'type'&gt;

		&gt;&gt;&gt; type(type(False))
		&lt;class 'type'&gt;

		&gt;&gt;&gt; type(type(type(False)))
		&lt;class 'type'&gt;
	</code></pre>
<p>On peut voir ‚Üë que tous les types sont repr√©sent√©s par des objets de type <em>type</em> (qui n'ont pas forc√©ment la m√™me valeur en revanche, s'ils
		repr√©sentent des types diff√©rents). Le type <em>type</em> lui-m√™me est un objet qui a lui-m√™me pour type, il est de son propre type.</p>
<p>Une classe, comme toute donn√©e, est repr√©sent√©e en m√©moire r√©ellement par des bits et octets, Python la repr√©sente sous forme d'objet, et quand on
		souhaite la repr√©senter sous forme de texte, par d√©faut Python met le mot <code>class</code> suivi du nom de la classe entre simples guillemets, le tout
		entour√© des caract√®res <code>&lt;</code> et <code>&gt;</code>, par exemple <code>&lt;class 'int'&gt;</code></p>
<p>Pour savoir si deux objets ont le m√™me type, on peut comparer la valeur de leurs types correspondants avec l'op√©rateur <code>==</code>:</p>
<pre><code class="language-python">
		&gt;&gt;&gt; type(5) == type(10)
		True

		&gt;&gt;&gt; type(5) == type("Bonjour")
		False
	</code></pre>

	
	<h2 data-nb="6.3" id="Variables / identifiants">Variables / identifiants</h2>
<p>Une "variable" en Python est appel√©e un "nom" ("name" en anglais), mais on peut aussi utiliser le terme "identifiant", les trois (variable, nom et
		identifiant) sont des synonymes. Un identifiant ne contient pas de valeur, ne contient pas d'objet, mais <strong>pointe vers</strong> un objet, on dit
		aussi qu'un identifiant <em>fait r√©f√©rence</em> √† un objet, ou <em>r√©r√©rence</em> un objet.</p>
<p>Les identifiants sont cr√©√©s et modifi√©s √† l'aide de l'instruction d'affectation <code>=</code>. Ils existent dans un espace m√©moire s√©par√© de celui des
		objets, qu'on appelle <a href="cm_namespaces_modules.html">namespace</a>, "espace de noms" en fran√ßais.</p>
<p>Prenons par exemple la ligne suivante, et voyons ce que Python fait avec les identifiants et objets:</p>
<pre><code class="language-python">
		a = 5
	</code></pre>
<p>1 - Au tout d√©but la m√©moire est vide. Nous avons deux cat√©gories d'espaces en m√©moire : celui unique des objets, et la cat√©gorie des espaces des
		identifiants:</p>
<img alt="" src="img/memoire_modele_donnees/identifiant_creation_1_2.png"/>
<p>2 - L'expression √† droite du <code>=</code> est √©valu√©e. Elle peut √™tre complexe, ou simple comme dans cet exemple, puisqu'il s'agit d'un unique litt√©ral
		<code>int</code>. L'objet qui a pour valeur le r√©sultat de cette expression, ainsi que le type correspondant, est cr√©√©, donc ici un objet ayant pour
		type <code>int</code> et pour valeur <code>5</code>:</p>
<img alt="" src="img/memoire_modele_donnees/identifiant_creation_2_2.png"/>
<p>3 - L'identifiant <code>a</code> est cr√©√©, puisqu'il n'existe pas encore:</p>
<img alt="" src="img/memoire_modele_donnees/identifiant_creation_3_2.png"/>
<p>4 - <code>a</code> est modifi√© pour pointer vers l'objet √† droite du <code>=</code>:</p>
<img alt="" src="img/memoire_modele_donnees/identifiant_creation_4_2.png"/>
<p>Si ensuite on fait:</p>
<pre><code class="language-python">
		a = a + 1
	</code></pre>
<p>5 - L'expression √† droite du <code>=</code> est √©valu√©e, un nouvel objet est cr√©√© qui a pour valeur le r√©sultat de cette expression ainsi que le type
		correspondant, donc ici un objet ayant pour type <code>int</code> et pour valeur <code>6</code>:</p>
<img alt="" src="img/memoire_modele_donnees/identifiant_creation_5_2.png"/>
<p>6 - <code>a</code> est modifi√© pour pointer vers l'objet √† droite du <code>=</code>. De plus, le m√©canisme de <em>garbage collector</em> qu'on verra plus
		en d√©tails ensuite nettoie automatiquement la m√©moire, et supprime l'objet qui n'est plus accessible par aucun identifiant:</p>
<img alt="" src="img/memoire_modele_donnees/identifiant_creation_6_2.png"/>
<p>Les identifiants peuvent √™tre supprim√©s manuellement √† l'aide de l'instruction <code>del</code> (diminutif de <em>delete</em> qui veut dire
		<em>supprimer</em> en anglais). On verra plus tard qu'ils sont la majorit√© du temps supprim√©s automatiquement par les <em>namespaces</em>, on n'a
		g√©n√©ralement pas √† s'occuper nous-m√™mes de la destruction des identifiants. Mais si on fait:</p>
<pre><code class="language-python">
		del a
	</code></pre>
<p>7 - <code>a</code> est supprim√©:</p>
<img alt="" src="img/memoire_modele_donnees/identifiant_creation_7_2.png"/>
<p>8 - L'objet n'est plus r√©f√©renc√© par aucun identifiant, le garbage collector le supprime automatiquement:</p>
<img alt="" src="img/memoire_modele_donnees/identifiant_creation_8.png"/>

	
	<h2 data-nb="6.4" id="Le cas des listes et des tuples">Le cas des listes et des tuples</h2>
<p>Les listes et les tuples sont des types qui contiennent plusieurs valeurs. Ces valeurs ne sont pas DANS les objets liste ou tuples, mais sont des objets
		distincts, r√©f√©renc√©s par la liste ou le tuple en question. Les listes et tuples sont en quelque sorte des suites de pointeurs. Voyons quelques exemples
		de listes, et leur repr√©sentation en m√©moire.</p>
<p>Une liste vide:</p>
<pre><code class="language-python">
		ma_liste = []
	</code></pre>
<img alt="" src="img/memoire_modele_donnees/liste_vide.png"/>
<p>Une liste qui "contient" plusieurs objets distincts:</p>
<pre><code class="language-python">
		ma_liste = [8, "Salut", True, None]
	</code></pre>
<img alt="" src="img/memoire_modele_donnees/liste_objets_distincts.png"/>
<p>Une liste qui "contient" plusieurs objets identiques:</p>
<pre><code class="language-python">
		a = 8
		ma_liste = [a, "Salut", a, None]
	</code></pre>
<img alt="" src="img/memoire_modele_donnees/liste_objets_identiques.png"/>
<p>En <a href="cm_spec_impl_versions.html">CPython</a>, certains objets immutables (voir plus bas) sont uniques en m√©moire, en particulier les
		<code>int</code>, <code>float</code>, <code>bool</code>, <code>None</code> et certaines <code>str</code> courtes. Par exemple:</p>
<pre><code class="language-python">
		a = 8
		ma_liste = [a, 8, True, True]
	</code></pre>
<img alt="" src="img/memoire_modele_donnees/liste_objets_identiques2.png"/>
<p>Une liste peut pointer vers d'autres listes:</p>
<pre><code class="language-python">
		ma_liste = [8, [8, 2], 0]
	</code></pre>
<img alt="" src="img/memoire_modele_donnees/liste_dans_liste.png"/>

	
	<h2 data-nb="6.5" id="Identit√©">Identit√©</h2>
<p>Tout objet en Python a une identit√© repr√©sent√©e par un nombre entier qui doit √™tre unique au sein d'un programme en cours d'ex√©cution. L'identit√© d'un
		objet est d√©finitive et ne peux √™tre chang√©e au cours de l'existence de l'objet. Ainsi, notre repr√©sentation des donn√©es d'un programme en Python
		devient: </p>
<img alt="" src="img/memoire_modele_donnees/objets_type_val_et_id_2.png"/>
<p>Les identit√© des objets dans ce sch√©ma sont juste des exemples arbitraires.</p>
<p>Plusieurs objets peuvent avoir la m√™me identit√©, mais ils ne doivent pas exister en m√™me temps. Par exemple si pendant l'ex√©cution d'un programme un
		objet a l'identit√© 10, aucun autre objet ne peut avoir l'identit√© 10 tant qu'il existe. Quand cet objet est d√©truit, alors √† ce moment l'identit√© 10 peu
		√† nouveau √™tre utilis√© par un nouvel objet, qui sera probablement d'un type diff√©rent et avec une valeur diff√©rente du pr√©c√©dent objet qui avait la m√™me
		identit√©.</p>
<img alt="" src="img/memoire_modele_donnees/objets_id_timeline_2.png"/>
<p>Pour obtenir l'identit√© de tout objet, on utilise la fonction <code>id()</code>, qui prend n'importe quel objet en param√®tre, et retourne son identit√©
		sous forme de <code>int</code>. En <a href="cm_spec_impl_versions.html">CPython</a>, l'identit√© d'un objet est son adresse en m√©moire. Cette adresse
		d√©pend de nombreux facteurs qui sont en dehors de notre contr√¥le, et qui ne sont pas importants pour nous, car c'est Python qui g√®re la m√©moire pour
		nous, il est donc normal que les adresses m√©moire des objets varient d'une ex√©cution du programme √† une autre, m√™me si le programme fait exactement la
		m√™me chose √† chaque fois.</p>
<pre><code class="language-python">
		&gt;&gt;&gt; id(5)
		1997577388400

		&gt;&gt;&gt; a = "Bonjour"
		&gt;&gt;&gt; id(a)
		1997648895024
	</code></pre>
<p>Pour savoir si deux objets sont en fait le m√™me objet, on utilise l'op√©rateur binaire <code>is</code> qui vaut <code>True</code> si les objets √† droite
		et √† gauche sont le m√™me objet, <code>False</code> sinon. Dans l'exemple suivant on a deux identifiants <code>a</code> et <code>b</code> qui r√©f√©rencent
		le m√™me objet de type <code>int</code> qui a pour valeur <code>5</code>, <code>is</code> permet de le confirmer:</p>
<img alt="" src="img/memoire_modele_donnees/operateur_is_exemple_2.png"/>
<pre><code class="language-python">
		&gt;&gt;&gt; a = 5
		&gt;&gt;&gt; b = a
		&gt;&gt;&gt; a is b
		True
	</code></pre>
<p><code>is</code> est √©quivalent √† comparer les identit√©s des deux objets avec l'op√©rateur <code>==</code>:</p>
<pre><code class="language-python">
		&gt;&gt;&gt; a = 5
		&gt;&gt;&gt; b = a
		&gt;&gt;&gt; a is b
		True

		&gt;&gt;&gt; id(a)
		200
		&gt;&gt;&gt; id(b)
		200
		&gt;&gt;&gt; id(a) == id(b)
		True
	</code></pre>
<p>On peut aussi utiliser "is" pour confirmer le type exact d'un objet. Pour savoir si deux objets ont le m√™me type, on a vu qu'on peut comparer leurs types
		avec l'op√©rateur <code>==</code> mais c'est encore plus pr√©cis avec l'op√©rateur <code>is</code> car on v√©rifie que leurs types sont en fait le M√äME
		objet (souvenez-vous les types sont aussi repr√©sent√©s par des objets):</p>
<pre><code class="language-python">
		&gt;&gt;&gt; type(5) == type(10)
		True

		&gt;&gt;&gt; type(5) is type(10)
		True

		&gt;&gt;&gt; type(5) is int
		True
	</code></pre>

	
	<h2 data-nb="6.6" id="Les types builtin, mutables et immutables">Les types <em>builtin</em>, mutables et immutables</h2>
<p>On appelle les types <em>builtin</em> tous les types qui sont d√©finis dans Python directement (en particulier dans le module <code>builtins</code>, mais
		pas uniquement), en opposition √† ceux d√©finis par nous-m√™me ou par des biblioth√®ques de code externes √† Python.</p>
<p>La valeur des objets de certains types PEUT changer au cours de leur existence, on dit de ces objets qu'ils sont <em>mutables</em> (de l'anglais <em>mutable</em>)
		ou plus rarement <em>muables</em>. Au contraire les objets dont le type interdit le changement de valeur au cours de leur existence sont dits <em>immuables</em>
		ou <em>immutables</em> (de l'anglais <em>immutable</em>). On peut aussi qualifier les types eux-m√™mes de <em>mutable</em> ou <em>immutable</em>, √ßa
		revient au m√™me.</p>
<p> Jusqu'√† pr√©sent dans ce cours, vous n'avez vu que des types builtin, qui sont:</p>
<ul>
<li><p><code>NoneType</code> dont l'unique valeur est None, qui repr√©sente l'absence de valeur, immutableüîí</p></li>
<li><p><code>int</code> pour les nombres entiers, immutableüîí</p></li>
<li><p><code>float</code> pour les nombres r√©els, immutableüîí</p></li>
<li><p><code>str</code> pour les cha√Ænes de caract√®res, immutableüîí</p></li>
<li><p><code>bool</code> pour les bool√©ens, immutableüîí</p></li>
<li><p><code>tuple</code> pour les tuples, immutableüîí</p></li>
<li><p><code>list</code> pour les listes, mutable (le seul type mutable que vous connaissez)</p></li>
</ul>
<p>Vous avez aussi vu deux autres types sans forc√©ment r√©aliser qu'il s'agit aussi de types:</p>
<ul>
<li><p><code>range</code> dont les objets d√©crivent des intervalles d'entiers, immutableüîí</p></li>
<li><p><code>function</code> dont les objets contiennent le code des fonctions, immutableüîí</p></li>
</ul>
<img alt="" src="img/memoire_modele_donnees/objets_mutables_et_immutables.png"/>
<p>Et nous avons vu type un suppl√©mentaire dans cette partie du cours, qui est le type <em>type</em> lui-m√™me:</p>
<ul>
<li><p><code>type</code> dont les objets contiennent les types eux-m√™mes, immutable</p></li>
</ul>

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	


	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	



		<div class="nav_arrows" style=" margin-bottom: 1em;">

			<div style="text-align: center; opacity: 0.5; font-size: small">

			</div>
		</div>

	</div>

	
		<style>
			@media only screen and (min-width: 70em) {
				#side_nav_bar {
					width: 25vw;
				}

				#contenu {
					width: 75vw;
				}
			}
		</style>
	


</div>
  
<script src="prism.js"></script>

<script>
	if (document.URL.indexOf("localhost") === -1) {
		//console.log("pas localhost");
		document.querySelector("link[rel = 'icon']").setAttribute("href", "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='200' height='200' viewBox='0 0 100 100' style='display:block; margin:auto; padding: 0 0 1em 0;'%3E%3Cstyle%3E text %7B text-align: center; fill: white; text-anchor: middle; font-size: 11pt; %3C/style%3E%3C!--	%3Crect fill='hsl(000,50%25, 50%25)' x='0' y='0' width='100' height='100'%3E%3C/rect%3E--%3E%3Crect fill='hsl(200,50%25, 50%25)' x='0' y='0' width='100' height='100'%3E%3C/rect%3E%3Ctext x='50' y='75' style='font-size: 50pt;' id='t'%3E üêç %3C/text%3E%3C!--	%3Canimate--%3E%3C!-- xlink:href='%23t'--%3E%3C!-- attributeName='y'--%3E%3C!-- calcMode='spline'--%3E%3C!-- values='60; 90; 60'--%3E%3C!-- keyTimes='0; 0.5; 1'--%3E%3C!-- keySplines='--%3E%3C!-- .42 0 1 1;--%3E%3C!-- 0 0 .59 1;'--%3E%3C!-- dur='2s'--%3E%3C!-- fill='freeze'--%3E%3C!-- repeatCount='indefinite'/%3E--%3E%3C/svg%3E");
	} else {
		//console.log("localhost");
	}
	// On supprime la premi√®re ligne des <pre><code> qui est consid√©r√©e toujours vide et inutile
	const codes = document.querySelectorAll('pre[class="affichage_console"] code');
	
	codes.forEach(function (el) {
		// Attention: modifier textContent ou innerText d'un √©l√©ment d√©truit tous ses √©l√©ments enfant :(
		//el.textContent = el.textContent.replace(/^\n/, '');
		// On modifie donc le premie noeud texte uniquement
		el.childNodes[0].textContent = el.childNodes[0].textContent.replace(/^\n/, ''); // suppose que c'est un √©l√©ment texte
	});

	// On ajoute un <br> avant et apr√®s chaque <pre>
	let pres = document.querySelectorAll('pre, .exercices div.not√©');
	pres.forEach(function (el) {
		el.parentNode.insertBefore(document.createElement('div'), el);
		el.parentNode.insertBefore(document.createElement('div'), el.nextSibling);
	});

	// On ajoute 'Affichage' avant chaque affichage console
	pres = document.querySelectorAll('pre[class="affichage_console"]');
	pres.forEach(function (el) {
		const p = document.createElement('p');
		p.innerHTML = `<small>‚Üì Affichage dans la console (ou dans le shell, selon o√π vous lancez l'ex√©cution)<mall>`;
		p.classList.add("l√©gende_plac√©e_en_haut");
		el.parentNode.insertBefore(p, el);
	});

	// Cacher corrections dans les TD / TP, et permettre de les afficher
	let divs_correction = document.querySelectorAll('div[class="correction"]');
	divs_correction.forEach(function (div) {
		div.classList.add("correction_hidden");
		const p = document.createElement('p');
		p.innerHTML = `<span class="correction_lien_√†_cliquer">üìù Afficher / cacher correction ‚úì</span>`;
		p.onclick = function (evt) {
			div.classList.toggle("correction_hidden");
		};
		div.parentNode.insertBefore(p, div);
	});
</script>
</body>
</html>