<!DOCTYPE html>
<html lang="fr">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>✏️ TP 10 - Jeu du pendu niv.1 | Algo et prog 2 en Python</title>
	<link href="prism.css" rel="stylesheet"/>
	<link href="style.css" rel="stylesheet"/>
	<!--link rel="icon" href="img/favicon.svg"-->
	<link rel="icon"
			href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='200' height='200' viewBox='0 0 100 100' style='display:block; margin:auto; padding: 0 0 1em 0;'%3E%3Cstyle%3E text %7B text-align: center; fill: white; text-anchor: middle; font-size: 11pt; %3C/style%3E%3Crect fill='hsl(000,50%25, 50%25)' x='0' y='0' width='100' height='100'%3E%3C/rect%3E%3C!--	%3Crect fill='hsl(200,50%25, 50%25)' x='0' y='0' width='100' height='100'%3E%3C/rect%3E--%3E%3Ctext x='50' y='75' style='font-size: 50pt;' id='t'%3E 🐍 %3C/text%3E%3C!--	%3Canimate--%3E%3C!-- xlink:href='%23t'--%3E%3C!-- attributeName='y'--%3E%3C!-- calcMode='spline'--%3E%3C!-- values='60; 90; 60'--%3E%3C!-- keyTimes='0; 0.5; 1'--%3E%3C!-- keySplines='--%3E%3C!-- .42 0 1 1;--%3E%3C!-- 0 0 .59 1;'--%3E%3C!-- dur='2s'--%3E%3C!-- fill='freeze'--%3E%3C!-- repeatCount='indefinite'/%3E--%3E%3C/svg%3E">
</head>
<body>
<div id="conteneur">
	<div id="side_nav_bar">
		<!--svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 100 100" style="display:block; margin:auto; padding: 0 0 1em 0;">
	<style>
		text {
			text-align: center;
			fill: white;
			text-anchor: middle;
			font-size: 11pt;
		}
	</style>
	<rect fill="#4B8BBE" x="0" y="0" width="100" height="100"></rect>
	<text x="50" y="45" style="font-size: 30pt;">
		🐍

	</text>
	<text x="50" y="75" fill="#FFE873">
		Algo et prog 2
	</text>
	<text x="50" y="90" fill="#FFE873">
		en Python
	</text>
</svg-->

<div style="color:#4B8BBE; font-size: 200%; padding: 2%; text-align: center">
	Algo. et prog. 2 en
</div>
<img src="img/python-logo-generic.png" alt="Logo de Python" style="width: 100%; max-width: 19em; display:block; margin:auto;">
<div style="text-align: center; opacity: 0.5; font-size: small">Arnaud COUTURIER - Python 3.10</div>


























		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="index.html">
				Introduction
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_spec_impl_versions.html">
				Spécification, implémentations et versions
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_methodes_exec.html">
				Façons d'exécuter un programme Python
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_memoire_donnees.html">
				Mémoire et modèle de données
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_pass.html">
				L'instruction pass
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_prog_objets.html">
				Programmation objets
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_namespaces_modules.html">
				Namespaces et modules
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_exceptions.html">
				Les exceptions
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_sequences.html">
				Les séquences
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_iterables.html">
				Iterables, iterators
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_iterable_unpacking.html">
				Iterable unpacking
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_boucles_avancees.html">
				Techniques avancées sur les boucles
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_fonc_params.html">
				Fonctions et paramètres
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_dict_set.html">
				Hash et dictionnaires
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_compr_listes.html">
				Compréhension de listes et dictionnaires
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_manip_fich_texte.html">
				Manipulation de fichiers texte
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="td1.html">
				✍️ TD 1 - Calculatrice niv.1 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="tp1.html">
				✏️ TP 1 - Calculatrice niv.2 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="td2.html">
				✍️ TD 2 - Prog. objets niv.1 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="tp2.html">
				✏️ TP 2 - Calculatrice niv.3 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="tp3.html">
				✏️ TP 3 - Calculatrice niv.4 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="td3.html">
				✍️ TD 3 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="tp4.html">
				✏️ TP 4 - Prog. objets niv.2 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="tp5.html">
				✏️ TP 5 - Prog. objets niv.3 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cc1_2022.html">
				📝 Contrôle continu 1
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="tp6.html">
				✏️ TP 6 - Prog. objets niv.4 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="tp7.html">
				✏️ TP 7 - Prog. objets niv.5 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="tp_boutique_1.html">
				✏️ TP 8 - Boutique niv.1
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="tp_boutique_2.html">
				✏️ TP 9 - Boutique niv.2
			</a>
		</div>

		<div class="page_actuelle h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="tp_pendu_1.html">
				✏️ TP 10 - Jeu du pendu niv.1
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="tp_pendu_2.html">
				✏️ TP 11 - Jeu du pendu niv.2
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="cc2_2022_taches.html">
				📝 Contrôle continu 2
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="tp_pendu_3.html">
				✏️ TP 12 - Jeu du pendu niv.3
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="cc3_2022_etudiants.html">
				📝 Contrôle continu 3
			</a>
		</div>

	</div>
	<div id="contenu">
		


		
	<h1 data-nb="30" id="✏️ TP 10 - Jeu du pendu niv.1">✏️ TP 10 - Jeu du pendu niv.1</h1>
	

	<p>Dans les TP suivants on va créer le jeu du pendu:</p>
<video controls="" preload="none" src="img/pendu/demo_complete.mp4"></video>
<p>Voici les critères:</p>
<ol>
<li>Permettre à l'utilisateur de gérer l'ensemble des mots:
			<ul>
<li>voir l'ensemble des mots disponibles pour jouer</li>
<li>ajouter des nouveaux mots à l'ensemble existant. Un même mot ne peut être présent plusieurs fois dans l'ensemble.</li>
<li>suppression de mots de l'ensemble</li>
</ul>
</li>
<li>Les modifications de l'ensemble des mots doivent être persistantes, ce qui signifie qu'elles restent si on quitte et relance le programme.</li>
<li>Lorsqu'on joue, on voit l'état d'avancement du "pendu" par un dessin.</li>
<li>Tant que je le joueur est en vie et réussit, les mots lui sont proposés une seule fois chacun et dans un ordre aléatoire. Quand tous les mots ont
			été devinés, le joueur est déclaré vainqueur. Quand le joueur est pendu, il a perdu et revient automatiquement au menu principal.
		</li>
<li>Le jeu garde en mémoire le meilleur score du joueur et l'affiche dans le menu principal, mais ce meilleur score n'est pas persistant.</li>
<li>Certains messages (quand le joueur a perdu et gagné par exemple) sont affichés pendant un temps (2 ou 3 secondes), puis automatiquement effacés, et
			la logique du jeu se poursuit.
		</li>
<li>Les majuscules doivent toujours être ignorées, c'est-à-dire:
			<ul>
<li>insérer un nouveau mot en majuscule, l'enregistre quand même en minuscule</li>
<li>pendant le jeu, même si un mot contient des majuscules, si le joueur choisit la minuscule correspondate, ça fonctionne</li>
<li>pendant le jeu, même si un mot contient des majuscules, il est affiché en minuscules au joueur</li>
</ul>
</li>
</ol>
<h2 data-nb="30.1" id="Type set">Type <code>set</code></h2>
<p>Vous aurez besoin de lire la <a href="https://docs.python.org/fr/3/tutorial/datastructures.html#sets">documentation</a> concernant ce type de donnée.</p>

	
	<h2 data-nb="30.2" id="Mode très difficile">Mode très difficile</h2>
<p>Pour ceux qui veulent du challenge reproduisez le programme en utilisant votre propre façon de faire. Ne suivez pas les questions qui suivent, ne lisez
		rien de plus ci-dessous, ni dans les TP suivants.</p>


	
	<h2 data-nb="30.3" id="Mode difficile">Mode difficile</h2>
<p>A ce niveau, faites par vous-même, mais vous pouvez vous aider des quelques pistes suivantes: (attention, une fois que vous les avez lues, le niveau
		"très difficile" ci-dessus devient en conséquence non jouable pour vous)</p>
<div id="niveau_difficile">
<p>Vous aurez besoin de deux modules non vus en cours: <code>time</code> et <code>random</code>. Cherchez la doc de la fonction <code>sleep()</code> du
			module <code>time</code> ainsi que <code>choice()</code> dans le module <code>random</code>.</p>
<p>Vous pourriez aussi avoir besoin des méthodes <code>rsplit()</code> et <code>lower()</code> des <code>str</code>.</p>
<p>Vous pouvez passer d'une liste (type <code>list</code>) à un ensemble (type <code>set</code>) avec la fonction <code>list()</code> (qui est en fait
			le constructeur de la classe <code>list</code>), et inversement avec la fonction <code>set()</code>. Regardez dans la doc pour plus de détails. </p>
<p>Pour l'affichage des dessins du pendu, vous pouvez utiliser les triples quotes ("""), elles permettent d'écrire des commentaires sur plusieurs
			lignes, MAIS AUSSI des chaînes sur plusieurs lignes. Vous pouvez aussi utiliser certains caractères spéciaux pour former les dessins, sur Windows
			vous pouvez les avoir grâce à l'application intégrée "Table des caractères".</p>
</div>


	
	<h2 data-nb="30.4" id="Mode normal">Mode normal</h2>
<p>Faites toutes les questions dans l'ordre, jusqu'à la fin du dernier niveau (le 3). Voici ce que vous obtiendrez à la fin de ce niveau:</p>
<p class="légende_placée_en_haut">lorsque le joueur gagne</p>
<video controls="" preload="none" src="img/pendu/1 gagne.mp4"></video>
<p class="légende_placée_en_haut">lorsque le joueur perd</p>
<video controls="" preload="none" src="img/pendu/1 perdu.mp4"></video>

	
	<div class="exercice">
<h3 data-nb="30.4.1" id="Question 1">Question 1</h3>
<p>On va commencer par écrire quelques fonctions qui vont nous faciliter la vie lorsqu'on écrira le code de la logique du jeu en lui-même.</p>
<p>Écrire une fonction <code>mot_est_deviné()</code> qui va permettre de dire si oui ou non un mot est deviné, à partir de toutes les lettres qui ont
			été demandées par un jouer. La fonction prend 2 paramètres:</p>
<ol>
<li>un mot que le joueur est censé deviner, de type <code>str</code></li>
<li>un ensemble (donc de type <code>set</code>) de lettres (des <code>str</code> de longueur 1), qui correspond à toutes les lettres qu'un joueur
				aurait demandées. Pourquoi un ensemble plutôt qu'une liste? Pour éviter facilement les doublons, un <code>set</code> interdit les doublons.
			</li>
</ol>
<p>La fonction retourne un <code>bool</code>: vrai si le mot a été <em>entièrement</em> deviné, c'est-à-dire toutes ses lettres ont été demandées par le
			joueur, faux sinon.</p>
<p>Testez que votre fonction fonctionne avec quelques appels.</p>
		
	</div>

	
	<div class="exercice">
<h3 data-nb="30.4.2" id="Question 2">Question 2</h3>
<p>On a besoin d'une seconde fonction pour pouvoir facilement afficher les mots au joueur pendant le jeu. Chaque lettre du mot est soit:</p>
<ul>
<li>cachée si le joueur n'a pas encore demandé la lettre en question. Une lettre cachée est affichée avec le caractère underscore "_".</li>
<li>soit est affichée si le joueur l'a demandée auparavant</li>
</ul>
<p>Afficher un espace entre chaque lettre (cachée ou non) pour bien les différencier visuellement.</p>
<p>Ecrire la fonction <code>afficher_mot()</code>, qui prend les mêmes 2 paramètres que la fonction de la question précédente. Elle ne renvoie aucun
			résultat. Lorsqu'on l'appelle, elle affiche dans la console le mot avec les bonnes lettres révélées ou pas.</p>
<p>Testez que votre fonction fonctionne avec quelques appels.</p>
		
	</div>

	
	<div class="exercice">
<h3 data-nb="30.4.3" id="Question 3">Question 3</h3>
<p>Dans le contexte global, c'est-à-dire en dehors de toute fonction, on va écrire la logique du jeu: c'est-à-dire la boucle principale, son
			initialization avant qu'elle démarre et une éventuelle suite après la boucle:</p>
<ul>
<li>Le jeu à deviner est toujours le même pour le moment.</li>
<li>Le joueur dispose de 3 essais, ce qui correspond à sa vie, chaque lettre demandée qui n'existe pas dans le mot lui enlève un essai.</li>
<li>Lorsque le nombre d'essais tombe à zéro, le joueur a perdu, le mot lui est révélé, et le programme se termine.</li>
<li>Lorsque le joueur a trouvé le mot, on le félicite, car il/elle a gagné, on affiche le mot entier et le programme se termine.</li>
</ul>
<p>Stockez les lettres que le joueur demande dans un <code>set</code>, et utilisez les 2 fonctions précédentes pour vous aider.</p>
<p>Vérifiez que votre jeu fonctionne.</p>
		
	</div>

	
	<div class="exercice">
<h3 data-nb="30.4.4" id="Question 4">Question 4</h3>
<p>Maintenant que le jeu dans sa version la plus simple fonctionne, on va l'augmenter petit à petit pour le rendre intéressant.</p>
<p>On va commencer par proposer un mot (potentiellement) différent chaque fois que le jeu est lancé. Pour cela créez dans votre code, avant la boucle
			principale, un ensemble (et pas une liste!) qui contient tous les mots que le jeu peut proposer au joueur, pour commencer inutile d'en ajouter trop,
			3 mots suffisent.</p>
<p>Puis avant de jouer, le mot à deviner doit être choisi au hasard parmis l'ensemble des mots potentiels. À part ça, le déroulement du jeu reste le
			même.</p>
<p>Comment choisir un mot au hasard? Vous avez la fonction <a href="https://docs.python.org/fr/3/library/random.html#random.choice" target="_blank"><code>choice()</code></a> dans le module <code>random</code>. Malheureusement la fonction <code>choice</code> ne peut pas
			fonctionner sur un <code>set</code>, car elle a besoin d'une séquence, et les ensembles ne sont pas des séquences puisqu'il n'y a pas de notion
			d'ordre des éléments dans un ensemble. Néanmoins, vous pouvez facilement transformer un <code>set</code> en <code>list</code> en passant votre
			ensemble en paramètre de la fonction <code>list()</code>, et la liste qui contient les mêmes éléments que l'ensemble sera retournée en résultat.</p>
<p>Vérifiez que le mot change de façon aléatoire à chaque lancement du programme. Aléatoire ne signifie pas différent à chaque fois, il est donc
			possible que le même mot soit proposé plusieurs fois de suite. Plus il y a de mots possibles, et moins ils ont de chances de sortir 2 fois de
			suite.</p>
		
	</div>


		<div class="nav_arrows" style=" margin-bottom: 1em;">

			<div style="text-align: center; opacity: 0.5; font-size: small">

			</div>
		</div>

	</div>

	
		<style>
			@media only screen and (min-width: 70em) {
				#side_nav_bar {
					width: 25vw;
				}

				#contenu {
					width: 75vw;
				}
			}
		</style>
	


</div>
  
<script src="prism.js"></script>

<script>
	if (document.URL.indexOf("localhost") === -1) {
		//console.log("pas localhost");
		document.querySelector("link[rel = 'icon']").setAttribute("href", "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='200' height='200' viewBox='0 0 100 100' style='display:block; margin:auto; padding: 0 0 1em 0;'%3E%3Cstyle%3E text %7B text-align: center; fill: white; text-anchor: middle; font-size: 11pt; %3C/style%3E%3C!--	%3Crect fill='hsl(000,50%25, 50%25)' x='0' y='0' width='100' height='100'%3E%3C/rect%3E--%3E%3Crect fill='hsl(200,50%25, 50%25)' x='0' y='0' width='100' height='100'%3E%3C/rect%3E%3Ctext x='50' y='75' style='font-size: 50pt;' id='t'%3E 🐍 %3C/text%3E%3C!--	%3Canimate--%3E%3C!-- xlink:href='%23t'--%3E%3C!-- attributeName='y'--%3E%3C!-- calcMode='spline'--%3E%3C!-- values='60; 90; 60'--%3E%3C!-- keyTimes='0; 0.5; 1'--%3E%3C!-- keySplines='--%3E%3C!-- .42 0 1 1;--%3E%3C!-- 0 0 .59 1;'--%3E%3C!-- dur='2s'--%3E%3C!-- fill='freeze'--%3E%3C!-- repeatCount='indefinite'/%3E--%3E%3C/svg%3E");
	} else {
		//console.log("localhost");
	}
	// On supprime la première ligne des <pre><code> qui est considérée toujours vide et inutile
	const codes = document.querySelectorAll('pre[class="affichage_console"] code');
	
	codes.forEach(function (el) {
		// Attention: modifier textContent ou innerText d'un élément détruit tous ses éléments enfant :(
		//el.textContent = el.textContent.replace(/^\n/, '');
		// On modifie donc le premie noeud texte uniquement
		el.childNodes[0].textContent = el.childNodes[0].textContent.replace(/^\n/, ''); // suppose que c'est un élément texte
	});

	// On ajoute un <br> avant et après chaque <pre>
	let pres = document.querySelectorAll('pre, .exercices div.noté');
	pres.forEach(function (el) {
		el.parentNode.insertBefore(document.createElement('div'), el);
		el.parentNode.insertBefore(document.createElement('div'), el.nextSibling);
	});

	// On ajoute 'Affichage' avant chaque affichage console
	pres = document.querySelectorAll('pre[class="affichage_console"]');
	pres.forEach(function (el) {
		const p = document.createElement('p');
		p.innerHTML = `<small>↓ Affichage dans la console (ou dans le shell, selon où vous lancez l'exécution)<mall>`;
		p.classList.add("légende_placée_en_haut");
		el.parentNode.insertBefore(p, el);
	});

	// Cacher corrections dans les TD / TP, et permettre de les afficher
	let divs_correction = document.querySelectorAll('div[class="correction"]');
	divs_correction.forEach(function (div) {
		div.classList.add("correction_hidden");
		const p = document.createElement('p');
		p.innerHTML = `<span class="correction_lien_à_cliquer">📝 Afficher / cacher correction ✓</span>`;
		p.onclick = function (evt) {
			div.classList.toggle("correction_hidden");
		};
		div.parentNode.insertBefore(p, div);
	});
</script>
</body>
</html>