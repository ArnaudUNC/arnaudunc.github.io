<!DOCTYPE html>
<html lang="fr">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Hash et dictionnaires | Algo et prog 2 en Python</title>
	<link href="prism.css" rel="stylesheet"/>
	<link href="style.css" rel="stylesheet"/>
	<!--link rel="icon" href="img/favicon.svg"-->
	<link rel="icon"
			href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='200' height='200' viewBox='0 0 100 100' style='display:block; margin:auto; padding: 0 0 1em 0;'%3E%3Cstyle%3E text %7B text-align: center; fill: white; text-anchor: middle; font-size: 11pt; %3C/style%3E%3Crect fill='hsl(000,50%25, 50%25)' x='0' y='0' width='100' height='100'%3E%3C/rect%3E%3C!--	%3Crect fill='hsl(200,50%25, 50%25)' x='0' y='0' width='100' height='100'%3E%3C/rect%3E--%3E%3Ctext x='50' y='75' style='font-size: 50pt;' id='t'%3E üêç %3C/text%3E%3C!--	%3Canimate--%3E%3C!-- xlink:href='%23t'--%3E%3C!-- attributeName='y'--%3E%3C!-- calcMode='spline'--%3E%3C!-- values='60; 90; 60'--%3E%3C!-- keyTimes='0; 0.5; 1'--%3E%3C!-- keySplines='--%3E%3C!-- .42 0 1 1;--%3E%3C!-- 0 0 .59 1;'--%3E%3C!-- dur='2s'--%3E%3C!-- fill='freeze'--%3E%3C!-- repeatCount='indefinite'/%3E--%3E%3C/svg%3E">
</head>
<body>
<div id="conteneur">
	<div id="side_nav_bar">
		<!--svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 100 100" style="display:block; margin:auto; padding: 0 0 1em 0;">
	<style>
		text {
			text-align: center;
			fill: white;
			text-anchor: middle;
			font-size: 11pt;
		}
	</style>
	<rect fill="#4B8BBE" x="0" y="0" width="100" height="100"></rect>
	<text x="50" y="45" style="font-size: 30pt;">
		üêç

	</text>
	<text x="50" y="75" fill="#FFE873">
		Algo et prog 2
	</text>
	<text x="50" y="90" fill="#FFE873">
		en Python
	</text>
</svg-->

<div style="color:#4B8BBE; font-size: 200%; padding: 2%; text-align: center">
	Algo. et prog. 2 en
</div>
<img src="img/python-logo-generic.png" alt="Logo de Python" style="width: 100%; max-width: 19em; display:block; margin:auto;">
<div style="text-align: center; opacity: 0.5; font-size: small">Arnaud COUTURIER - Python 3.10</div>


























		<div class=" h h1">
			<!--span class="ballot_box">‚òí</span-->
			<a href="index.html">
				Introduction
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òí</span-->
			<a href="cm_spec_impl_versions.html">
				Sp√©cification, impl√©mentations et versions
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òí</span-->
			<a href="cm_methodes_exec.html">
				Fa√ßons d'ex√©cuter un programme Python
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òí</span-->
			<a href="cm_memoire_donnees.html">
				M√©moire et mod√®le de donn√©es
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òí</span-->
			<a href="cm_pass.html">
				L'instruction pass
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òí</span-->
			<a href="cm_prog_objets.html">
				Programmation objets
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òí</span-->
			<a href="cm_namespaces_modules.html">
				Namespaces et modules
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òí</span-->
			<a href="cm_exceptions.html">
				Les exceptions
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òí</span-->
			<a href="cm_sequences.html">
				Les s√©quences
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òí</span-->
			<a href="cm_iterables.html">
				Iterables, iterators
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òí</span-->
			<a href="cm_iterable_unpacking.html">
				Iterable unpacking
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òí</span-->
			<a href="cm_boucles_avancees.html">
				Techniques avanc√©es sur les boucles
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òí</span-->
			<a href="cm_fonc_params.html">
				Fonctions et param√®tres
			</a>
		</div>

		<div class="page_actuelle h h1">
			<!--span class="ballot_box">‚òê</span-->
			<a href="cm_dict_set.html">
				Hash et dictionnaires
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òê</span-->
			<a href="cm_compr_listes.html">
				Compr√©hension de listes et dictionnaires
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òê</span-->
			<a href="cm_manip_fich_texte.html">
				Manipulation de fichiers texte
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òê</span-->
			<a href="td1.html">
				‚úçÔ∏è TD 1 - Calculatrice niv.1 ‚úîÔ∏è
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òê</span-->
			<a href="tp1.html">
				‚úèÔ∏è TP 1 - Calculatrice niv.2 ‚úîÔ∏è
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òê</span-->
			<a href="td2.html">
				‚úçÔ∏è TD 2 - Prog. objets niv.1 ‚úîÔ∏è
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òê</span-->
			<a href="tp2.html">
				‚úèÔ∏è TP 2 - Calculatrice niv.3 ‚úîÔ∏è
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òê</span-->
			<a href="tp3.html">
				‚úèÔ∏è TP 3 - Calculatrice niv.4 ‚úîÔ∏è
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òê</span-->
			<a href="td3.html">
				‚úçÔ∏è TD 3
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òê</span-->
			<a href="tp4.html">
				‚úèÔ∏è TP 4 - Prog. objets niv.2 ‚úîÔ∏è
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òê</span-->
			<a href="tp5.html">
				‚úèÔ∏è TP 5 - Prog. objets niv.3 ‚úîÔ∏è
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òê</span-->
			<a href="cc1_2022.html">
				üìù Contr√¥le continu 1
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òê</span-->
			<a href="tp6.html">
				‚úèÔ∏è TP 6 - Prog. objets niv.4
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òê</span-->
			<a href="tp7.html">
				‚úèÔ∏è TP 7 - Prog. objets niv.5
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òê</span-->
			<a href="tp_boutique_1.html">
				‚úèÔ∏è TP 8 - Boutique niv.1
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">‚òê</span-->
			<a href="tp_boutique_2.html">
				‚úèÔ∏è TP 9 - Boutique niv.2
			</a>
		</div>

	</div>
	<div id="contenu">
		


		
	
	<h1 data-nb="14" id="Hash et dictionnaires">Hash et dictionnaires</h1>

	
	<h2 data-nb="14.1" id="Limites des s√©quences">Limites des s√©quences</h2>
<h3 data-nb="14.1.1" id="Les indices sont forc√©ment des entier">Les indices sont forc√©ment des entier</h3>
<p>Les s√©quences que sont les listes, tuples, cha√Ænes et ranges sont pratiques pour stocker des donn√©es ordonn√©es qu'on retrouve par un indice c'est √† dire
		un nombre entier. Cependant nous sommes emb√™t√©s si on souhaite stocker et retrouver des donn√©es non par un nombre entier mais par un autre type d'objet,
		par exemple des cha√Ænes.</p>

	

	<h3 data-nb="14.1.2" id="Certaines op√©rations sont lentes">Certaines op√©rations sont lentes</h3>
<p>Une autre limitation des s√©quences est leur performance faible pour certaines op√©rations.</p>
<p>L'acc√®s √† un √©l√©ment par son indice, et √©ventuellement sa modification, se font en un temps fixe, on dit complexit√© <em>O(1)</em>, ce qui est la
		meilleure performance possible.</p>
	

	<p>En revanche toute op√©ration qui n√©cessite la recherche d'un √©l√©ment, par exemple avec l'op√©rateur <code>in</code>, la m√©thode <code>index()</code> des
		<code>str</code>, ou la m√©thode <code>remove()</code> des <code>list</code>, se fait en temps lin√©aire qui d√©pend de la taille <code>n</code> de la
		s√©quence, on dit complexit√© <em>O(n)</em>. Pour trouver un √©l√©ment en particulier dans une s√©quence il faut la parcourir en partant du d√©but et chercher
		ainsi √©l√©ment par √©l√©ment jusqu'√† ce qu'on le trouve. Dans le meilleur des cas l'√©l√©ment cherch√© est le premier, √ßa sera tr√®s rapide. Dans le pire des
		cas l'√©l√©ment cherch√© sera le dernier ou n'existera pas du tout dans la s√©quence, ainsi elle aura √©t√© parcourue en entier.</p>
	

	<p>Dans une liste, la suppression d'un √©l√©ment par son indice est aussi en complexit√© O(n) car il faut d√©placer d'une "case" en m√©moire vers le d√©but de la
		liste tous les √©l√©ments suivants. (on dit "case" pour signifier la taille en m√©moire de chaque position du tableau). L'insertion √† un autre endroit qu'√†
		la fin de la liste est aussi en complexit√© O(n), avec le pire cas quand on ins√®re au premier indice (indice 0), car il faut d√©placer tous les √©l√©ments
		suivants cette fois-ci d'une "case" m√©moire vers la fin de la liste.</p>
	

	
	<h2 data-nb="14.2" id="Les tables de hachage">Les tables de hachage</h2>
<p>Elles sont un type de donn√©es qui r√©sout les deux probl√®mes list√©s plus haut. On les appelle aussi <em>tables de hash</em> ou <em>tableaux
		associatifs</em>. En anglais on les appelle <em>map</em>, <em>hashmap</em>, <em>hash table</em> ou encore <em>associative arrays</em>.</p>
<p>Contrairement aux s√©quences qui sont ordonn√©es par des indices qui commencent par z√©ro, une table de hachage n'est pas ordonn√©e. C'est une collection, un
		ensemble de valeurs ou bien de couples (cl√©, valeur).</p>
<p>Dans le concept, une table de hachage est un tableau associ√© √† une fonction de hachage. Cette fonction fait la correspondance entre une valeur quelconque
		pass√©e en entr√©e et une case du tableau en sortie. √Ä chaque valeur diff√©rente qu'on lui passera correspondra id√©alement une case unique du tableau. Et
		pour deux valeurs identiques, la fonction doit d√©signer toujours la m√™me case du tableau. Dans ce tableau on pourra y stocker la valeur utilis√©e pour
		calculer son hash, mais aussi si on souhaite une valeur associ√©e, dans ce cas on dit que la valeur qui sert √† calculer le hash est une <em>cl√©</em> qui
		a une valeur associ√©e dans la table de hachage.</p>

	

	<p>Ce m√©canisme permet de stocker et retrouver des valeurs stock√©es et potentiellement leur valeur associ√©e:</p>
<ul>
<li><p>index√©es et donc retrouv√©es non pas par un nombre, mais par une valeur arbritraire, ce qui en fait un m√©canisme de stockage tr√®s polyvalent</p>
</li>
<li><p>sans avoir √† parcourir le tableau en entier, car la fonction de hachage nous donne directement la case qu'on cherche, ce qui est tr√®s rapide</p>
</li>
</ul>
<p>La performance de la table de hachage va d√©pendre ainsi de la performance de la fonction pour calculer le hash de la valeur cherch√©e, donc en temps fixe
		O(1).</p>
<p>Il arrive que la fonction de hash, n'√©tant pas parfaite, donne en sortie la m√™me case du tableau pour deux valeurs pourtant diff√©rentes en entr√©e. On
		appelle cette situation une collision et c'est un probl√®me. Il est r√©solu en stockant dans le tableau non pas une seule valeur, ou un seul couple <em>(cl√©,
			valeur)</em>, mais plusieurs. Ainsi en cas de collision, la recherche continue cette fois-ci au sein de la case du tableau en faisant une recherche
		s√©quentielle √©l√©ment par √©l√©ment (ou cl√© par cl√© s'il s'agit de couples stock√©s), comme dans une s√©quence. On retombe donc sur le m√™me probl√®me de
		performance vu avec les s√©quences. C'est pour √ßa qu'une table de hachage est con√ßue de fa√ßon √† limiter au maximum les collisions.</p>

	

	<p>Une table de hachage sait aussi g√©rer la taille de son tableau en fonction du nombre d'√©l√©ments qu'il contient de fa√ßon √† maintenir les collisions
		potentielles au minimum tout en minimisant la taille du tableau afin de ne pas gaspiller de m√©moire.</p>
<h2 data-nb="14.3" id="Les types de donn√©e hashables en Python">Les types de donn√©e hashables en Python</h2>
<p>Un type de donn√©e est hashable si:</p>
<ul>
<li><p>ses objets ont la m√©thode sp√©ciale <code>__hash__()</code> qui calcule la valeur de hash √† partir de la valeur de l'objet en question</p></li>
<li><p>l'objet est immutable</p></li>
<li><p>sa valeur peut √™tre compar√©e √† celle d'autres objets avec l'op√©rateur <code>==</code>, donc il doit avoir la m√©thode sp√©ciale
			<code>__eq__()</code>. Des objets qui sont hashables doivent donner la m√™me valeur de hash s'ils sont consid√©r√©s √©gaux lors de leur comparaison
			(sans √™tre forc√©ment le m√™me objet, voir valeur VS identit√©).</p></li>
</ul>
<p>Les types built-in de Python qui sont <em>immutables</em> sont (quasiment) tous hashables. Les types <em>mutables</em> comme les listes et les
		dictionnaires sont non hashables. Les tuples (et tout autre conteneur immutable) sont un peu sp√©ciaux: ils sont immutables donc hashables, mais
		attention, seulement s'ils ne contiennent que des objets de type eux aussi hashables. Donc le tuple <code>(3, 2, "Toto")</code> est un tuple hashable
		car le <code>int 3</code>, le <code>int 2</code> et la <code>str "toto"</code> sont tous hashables (types built-in immutables). Par contre le tuple
		<code>(["coucou", 2], True)</code> n'est pas hashable car son premier √©l√©ment est de type <code>list</code> (type built-in mutable).</p>
<p>Pourquoi les types mutables ne sont pas hashables? Car rappelez-vous qu'une valeur de hash est calcul√©e √† partir de la <strong>valeur</strong> de
		l'objet. Deux objets qui ne sont pas les m√™mes, donc n'ayant pas la m√™me identit√© obtenue par la fonction <code>id()</code>, peuvent avoir la m√™me
		valeur, c'est √† dire que la comparaison avec <code>==</code> entre ces deux objets donne <code>True</code>. Cette comparaison est faite gr√¢ce √† leur
		m√©thode sp√©ciale <code>__eq__()</code>. Et par cons√©quence deux objets de m√™me valeur doivent donner la m√™me valeur de hash, par leur fonction <code>__hash__()</code>.
		Hors si la valeur d'un objet change, sa valeur de hash doit aussi changer, dans une table de hash cela n'aurait aucun sens d'ins√©rer une cl√© qui peut
		changer √† tout moment, car on ne pourrait plus le retrouver ensuite si sa valeur de hash change par rapport au moment de son insertion, et il serait
		aussi stock√© dans la mauvaise case du tableau s'il change apr√®s insertion.</p>
<p>Pour vos propres types de donn√©es (vos classes), les objets sont consid√©r√©s hashables par d√©faut car ils se comparent tous comme non-√©gaux sauf avec
		eux-m√™me, et ils d√©rivent leur valeur de hash √† partir de leur identifiant. Cela a √©t√© fait ainsi pour que vous puissiez utiliser facilement des
		instances de vos propres classes comme cl√©s des dictionnaires, sans trop vous soucier des d√©tails. Cependant cela se complique d√®s qu'on veut red√©finir
		les m√©thodes <code>__eq__()</code> et/ou <code>__hash__()</code> de nos objets car elles doivent respecter les r√®gles cit√©es plus haut pour qu'un type
		de donn√©e soit hashable. La m√©thode <code>__neq__()</code> donne par d√©faut l'inverse de <code>__eq__()</code>, on ne la red√©finit donc pas en g√©n√©ral.
	</p>
<p>En Python on utilise la fonction built-in <code>hash()</code>, qui prend n'importe quel objet hashable en param√®tre, et retourne sa valeur de hash sous
		forme de <code>int</code>:</p>
	
	<pre><code class="language-python-console">
		&gt;&gt;&gt; hash(5)
		5

		&gt;&gt;&gt; hash("Bonjour")
		2689713187822685706

		&gt;&gt;&gt; hash(("ceci", "est", "un", "tuple", "de", "str"))
		-7366719707112751249

		&gt;&gt;&gt; hash([])
		TypeError: unhashable type: 'list'

		&gt;&gt;&gt; hash(("tuple", "avec", "liste", []))
		TypeError: unhashable type: 'list'
	</code></pre>
<p>La fonction <code>hash()</code> utilise la m√©thode sp√©ciale <code>__hash__()</code> de l'objet, c'est √©quivalent:</p>
<pre><code class="language-python-console">
		&gt;&gt;&gt; a = 5
		&gt;&gt;&gt; a.__hash__()
		5

		&gt;&gt;&gt; "Bonjour".__hash__()
		2689713187822685706

		&gt;&gt;&gt; hash(("ceci", "est", "un", "tuple", "de", "str"))
		-7366719707112751249

		&gt;&gt;&gt; [].__hash__()
		TypeError: 'NoneType' object is not callable
	</code></pre>

	
	<h2 data-nb="14.4" id="Le type dict">Le type dict</h2>
<p>Les dictionnaires sont parmi les types de base les plus utilis√©s en Python, avec les nombres, les cha√Ænes, les listes et les tuples. Ils sont une
		impl√©mentation de table de hachage, ils ont donc les avantages vus plus haut. L'insertion d'√©l√©ments, la recherche d'√©l√©ments, et la suppression
		d'√©l√©ments dans un dictionnaire sont ind√©pendants de la taille du dictionnaire, ces op√©rations sont ainsi tr√®s rapides. Le nom exact de ce type de
		donn√©e est <code><strong>dict</strong></code>.</p>
<p>Les <code>dict</code> sont un type de donn√©e mutable, un dictionnaire peut donc √™tre modifi√© directement sans avoir besoin de cr√©er des copies en
		m√©moire, ce qui est tr√®s efficace.</p>
<p>Un <code>dict</code> associe des <strong>valeurs</strong> √† des <strong>cl√©s</strong>. Les cl√©s doivent √™tre des objets de type <em>hashable</em>. Les
		valeurs peuvent √™tre de n'importe quel type. Chaque cl√© est unique dans le dictionnaire, et √† chaque cl√© correspond une seule valeur, qui elle peut ne
		pas √™tre unique.</p>
<p>Bien qu'une table de hachage n'a pas de notion d'ordre de ses √©l√©ments, les √©l√©ments dans un <code>dict</code> en Python sont ordonn√©s par l'ordre
		d'insertion des cl√©s, mais ce n'est en g√©n√©ral pas une consid√©ration importante.</p>



	
	<h3 data-nb="14.4.1" id="Cr√©ation de dictionnaires">Cr√©ation de dictionnaires</h3>

	
	<h4 data-nb="14.4.1.1" id="Avec des valeurs litt√©rales">Avec des valeurs litt√©rales</h4>
<pre><code class="language-python">
		# Un dict vide:
		d = {}

		# Un dict initialis√© avec des cl√©s et valeurs de diff√©rents types:
		d = {'a': 10, 'b': 20, 'c': 15, ('i', 'j'): 'Bonjour', 8: [0, 1, 2]}
	</code></pre>
<p>Quand la valeur litt√©rale d'un <code>dict</code> est trop longue, on peut l'√©crire de fa√ßon √† avoir une cl√© et sa valeur par ligne, comme ceci:</p>
<pre><code class="language-python">
		# Ecriture plus lisible d'un dictionnaire
		d = {
			'a': 10,
			'b': 20,
			'c': 15,
			('i', 'j'): 'Bonjour',
			8: [0, 1, 2]
		}
	</code></pre>
<p>On peut ajouter une virgule apr√®s le dernier √©l√©ment, ce n'est pas consid√©r√© comme une erreur de syntaxe:</p>
<pre><code class="language-python">
		d = {
			'a': 10,
			'b': 20, # virgule √† la fin n'est pas une erreur de syntaxe
		}
	</code></pre>

	
	<h4 data-nb="14.4.1.2" id="Avec le constructeur dict()">Avec le constructeur dict()</h4>
<pre><code class="language-python">
		# Un dict vide:
		d = dict()
		d == {}


		# Donne les cl√© et valeurs de d√©part gr√¢ce √† des param√®tres nomm√©s,
		# mais dans ce cas les cl√©s sont forc√©ment des str:
		d = dict(un=1, deux=2)
		d == {'un': 1, 'deux': 2}


		# Donne les cl√©s et valeurs de d√©part dans un iterable de couples,
		# par exemple ici une liste de tuples qui contiennent cl√© et valeur:
		d = dict([
			('un', 1),
			('deux', 2)
		])
		d == {'un': 1, 'deux': 2}


		# On peut aussi rajouter des arguments nomm√©s √† l'appel du constructeur
		# pour ajouter initialement des couples non pr√©sents dans l'it√©rable:
		d = dict(
			[('un',1), ('deux',2)],
			trois=3,
			quatre=4
		)
		d == {'un': 1, 'deux': 2, 'trois': 3, 'quatre': 4}


		# Copie (superficielle) √† partir d'un autre dict:
		d1 = {'un': 1, 'deux': 2}
		d2 = dict(d1)
		d2 == {'un': 1, 'deux': 2}


		# Copie (superficielle) √† partir d'un autre dict
		# avec en plus ajout d'√©lements initiaux gr√¢ce √† des arguments nomm√©s:
		d2 = dict(
			d1,
			trois=3,
			quatre=4
		)
		d2 == {'un': 1, 'deux': 2, 'trois': 3, 'quatre': 4}
	</code></pre>

	
	<h3 data-nb="14.4.2" id="Ajouter, retrouver et modifier des valeurs">Ajouter, retrouver et modifier des valeurs</h3>
<p>Pour ajouter une <em>nouvelle</em> cl√© et sa valeur dans un <code>dict</code> existant, on utilise l'indexation et l'affectation:</p>
<pre><code class="language-python">
		d = {}
		d['un'] = 1
		d['deux'] = 2
		d == {'un': 1, 'deux': 2}
	</code></pre>
<p>Pour retrouver la valeur associ√©e √† une cl√© dans un <code>dict</code>, on utilise l'indexation:
	<pre><code class="language-python">
		d = {'un': 1, 'deux': 2}
		d['un'] == 1
	</code></pre>
<p>Pour modifier la valeur associ√©e √† une cl√© existante, on utilise encore l'indexation et l'affectation:</p>
<pre><code class="language-python">
		d = {'un': 1, 'deux': 2}
		d['un'] = 10
		d['un'] == 10
	</code></pre>

	
	<h3 data-nb="14.4.3" id="Suppression des cl√©s / valeurs">Suppression des cl√©s / valeurs</h3>
<p>Supprimer une cl√© et sa valeur asssoci√©e se fait avec l'instruction <code>del</code></p>
<pre><code class="language-python">
		d = {'a': 5}
		del d['a']
		print(d) # Affiche {}
	</code></pre>
<p>Tenter d‚Äôacc√©der √†, ou de supprimer une cl√© inexistante provoque une erreur de type <code>KeyError</code></p>
<pre><code class="language-python">
		d = {'a': 5}
		try:
			print(d['b'])
		except:
			print("Cette cl√© n'existe pas") # Ce message sera affich√©
	</code></pre>


	
	<h3 data-nb="14.4.4" id="Test d'existence d'une cl√©">Test d'existence d'une cl√©</h3>
<p>L‚Äôop√©rateur bool√©en <code>in</code> peut √™tre utilis√© pour savoir si une cl√© est pr√©sente dans un <code>dict</code>:</p>
<pre><code class="language-python">
		d = {'a': 5, 'b': 15}
		'a' in d # Vaut True
		'c' in d # Vaut False
	</code></pre>

	
	<h3 data-nb="14.4.5" id="Boucles sur les dict">Boucles sur les <code>dict</code></h3>
<p>Les dict ont plusieurs m√©thodes qui nous retournent des <code>iterable</code> afin de les parcourir.</p>
<p>Boucler sur un dict directement nous retourne les cl√©s une par une:</p>
<pre><code class="language-python">
		d = {'a': 'bonjour', 'b': '√†', 'c': 'vous'}

		for cl√© in d:
			print(cl√©, d[cl√©])
	</code></pre>
<p>C'est √©quivalent √† utiliser la m√©thode <code>keys()</code>:</p>
<pre><code class="language-python">
		for cl√© in d.keys():
			print(cl√©, d[cl√©])
	</code></pre>
<p>Plus efficace (en terme d'√©criture de code et de performance) si on veut obtenir chaque cl√© et sa valeur associ√©e, on peut boucler sur un dict avec la
		m√©thode <code>items()</code>:</p>
<pre><code class="language-python">
		# Remarquez les deux variables de la boucle for
		for cl√©, valeur in d.items():
			print(cl√©, valeur)
	</code></pre>
<p>Si on ne veut que les valeurs on utilise la m√©thode <code>values()</code>:</p>
<pre><code class="language-python">
		for valeur in d.values():
			print(valeur)
	</code></pre>

	

	
	<h3 data-nb="14.4.6" id="Vider un dict">Vider un <code>dict</code></h3>
<p>Pour supprimer tous les √©l√©ments d‚Äôun dict, on peut appeler sa m√©thode <code>clear()</code></p>
<pre><code class="language-python">
		monDict.clear()
	</code></pre>

	
	<h3 data-nb="14.4.7" id="Longueur d'un dict">Longueur d'un <code>dict</code></h3>
<p>On peut avoir la longueur d'un dictionnaire avec la fonction <code>len()</code> (comme pour les listes):</p>
<pre><code class="language-python">
		d = {'a': 'bonjour', 'b': '√†', 'c': 'vous'}

		len(d) # retourne 3
	</code></pre>



	
	

	
	
	
	



		<div class="nav_arrows" style=" margin-bottom: 1em;">

			<div style="text-align: center; opacity: 0.5; font-size: small">

			</div>
		</div>

	</div>

	
		<style>
			@media only screen and (min-width: 70em) {
				#side_nav_bar {
					width: 25vw;
				}

				#contenu {
					width: 75vw;
				}
			}
		</style>
	


</div>
  
<script src="prism.js"></script>

<script>
	if (document.URL.indexOf("localhost") === -1) {
		//console.log("pas localhost");
		document.querySelector("link[rel = 'icon']").setAttribute("href", "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='200' height='200' viewBox='0 0 100 100' style='display:block; margin:auto; padding: 0 0 1em 0;'%3E%3Cstyle%3E text %7B text-align: center; fill: white; text-anchor: middle; font-size: 11pt; %3C/style%3E%3C!--	%3Crect fill='hsl(000,50%25, 50%25)' x='0' y='0' width='100' height='100'%3E%3C/rect%3E--%3E%3Crect fill='hsl(200,50%25, 50%25)' x='0' y='0' width='100' height='100'%3E%3C/rect%3E%3Ctext x='50' y='75' style='font-size: 50pt;' id='t'%3E üêç %3C/text%3E%3C!--	%3Canimate--%3E%3C!-- xlink:href='%23t'--%3E%3C!-- attributeName='y'--%3E%3C!-- calcMode='spline'--%3E%3C!-- values='60; 90; 60'--%3E%3C!-- keyTimes='0; 0.5; 1'--%3E%3C!-- keySplines='--%3E%3C!-- .42 0 1 1;--%3E%3C!-- 0 0 .59 1;'--%3E%3C!-- dur='2s'--%3E%3C!-- fill='freeze'--%3E%3C!-- repeatCount='indefinite'/%3E--%3E%3C/svg%3E");
	} else {
		//console.log("localhost");
	}
	// On supprime la premi√®re ligne des <pre><code> qui est consid√©r√©e toujours vide et inutile
	const codes = document.querySelectorAll('pre[class="affichage_console"] code');
	
	codes.forEach(function (el) {
		// Attention: modifier textContent ou innerText d'un √©l√©ment d√©truit tous ses √©l√©ments enfant :(
		//el.textContent = el.textContent.replace(/^\n/, '');
		// On modifie donc le premie noeud texte uniquement
		el.childNodes[0].textContent = el.childNodes[0].textContent.replace(/^\n/, ''); // suppose que c'est un √©l√©ment texte
	});

	// On ajoute un <br> avant et apr√®s chaque <pre>
	let pres = document.querySelectorAll('pre, .exercices div.not√©');
	pres.forEach(function (el) {
		el.parentNode.insertBefore(document.createElement('div'), el);
		el.parentNode.insertBefore(document.createElement('div'), el.nextSibling);
	});

	// On ajoute 'Affichage' avant chaque affichage console
	pres = document.querySelectorAll('pre[class="affichage_console"]');
	pres.forEach(function (el) {
		const p = document.createElement('p');
		p.innerHTML = `<small>‚Üì Affichage dans la console (ou dans le shell, selon o√π vous lancez l'ex√©cution)<mall>`;
		p.classList.add("l√©gende_plac√©e_en_haut");
		el.parentNode.insertBefore(p, el);
	});

	// Cacher corrections dans les TD / TP, et permettre de les afficher
	let divs_correction = document.querySelectorAll('div[class="correction"]');
	divs_correction.forEach(function (div) {
		div.classList.add("correction_hidden");
		const p = document.createElement('p');
		p.innerHTML = `<span class="correction_lien_√†_cliquer">üìù Afficher / cacher correction ‚úì</span>`;
		p.onclick = function (evt) {
			div.classList.toggle("correction_hidden");
		};
		div.parentNode.insertBefore(p, div);
	});
</script>
</body>
</html>