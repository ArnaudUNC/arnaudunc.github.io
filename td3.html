<!DOCTYPE html>
<html lang="fr">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>✍️ TD 3 | Algo et prog 2 en Python</title>
	<link href="prism.css" rel="stylesheet"/>
	<link href="style.css" rel="stylesheet"/>
	<!--link rel="icon" href="img/favicon.svg"-->
	<link rel="icon"
			href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='200' height='200' viewBox='0 0 100 100' style='display:block; margin:auto; padding: 0 0 1em 0;'%3E%3Cstyle%3E text %7B text-align: center; fill: white; text-anchor: middle; font-size: 11pt; %3C/style%3E%3Crect fill='hsl(000,50%25, 50%25)' x='0' y='0' width='100' height='100'%3E%3C/rect%3E%3C!--	%3Crect fill='hsl(200,50%25, 50%25)' x='0' y='0' width='100' height='100'%3E%3C/rect%3E--%3E%3Ctext x='50' y='75' style='font-size: 50pt;' id='t'%3E 🐍 %3C/text%3E%3C!--	%3Canimate--%3E%3C!-- xlink:href='%23t'--%3E%3C!-- attributeName='y'--%3E%3C!-- calcMode='spline'--%3E%3C!-- values='60; 90; 60'--%3E%3C!-- keyTimes='0; 0.5; 1'--%3E%3C!-- keySplines='--%3E%3C!-- .42 0 1 1;--%3E%3C!-- 0 0 .59 1;'--%3E%3C!-- dur='2s'--%3E%3C!-- fill='freeze'--%3E%3C!-- repeatCount='indefinite'/%3E--%3E%3C/svg%3E">
</head>
<body>
<div id="conteneur">
	<div id="side_nav_bar">
		<!--svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 100 100" style="display:block; margin:auto; padding: 0 0 1em 0;">
	<style>
		text {
			text-align: center;
			fill: white;
			text-anchor: middle;
			font-size: 11pt;
		}
	</style>
	<rect fill="#4B8BBE" x="0" y="0" width="100" height="100"></rect>
	<text x="50" y="45" style="font-size: 30pt;">
		🐍

	</text>
	<text x="50" y="75" fill="#FFE873">
		Algo et prog 2
	</text>
	<text x="50" y="90" fill="#FFE873">
		en Python
	</text>
</svg-->

<div style="color:#4B8BBE; font-size: 200%; padding: 2%; text-align: center">
	Algo. et prog. 2 en
</div>
<img src="img/python-logo-generic.png" alt="Logo de Python" style="width: 100%; max-width: 19em; display:block; margin:auto;">
<div style="text-align: center; opacity: 0.5; font-size: small">Arnaud COUTURIER - Python 3.10</div>


























		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="index.html">
				Introduction
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_spec_impl_versions.html">
				Spécification, implémentations et versions
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_methodes_exec.html">
				Façons d'exécuter un programme Python
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_memoire_donnees.html">
				Mémoire et modèle de données
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_pass.html">
				L'instruction pass
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_prog_objets.html">
				Programmation objets
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_namespaces_modules.html">
				Namespaces et modules
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_exceptions.html">
				Les exceptions
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_sequences.html">
				Les séquences
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_iterables.html">
				Iterables, iterators
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_iterable_unpacking.html">
				Iterable unpacking
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_boucles_avancees.html">
				Techniques avancées sur les boucles
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_fonc_params.html">
				Fonctions et paramètres
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_dict_set.html">
				Hash et dictionnaires
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_compr_listes.html">
				Compréhension de listes et dictionnaires
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="cm_manip_fich_texte.html">
				Manipulation de fichiers texte
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="td1.html">
				✍️ TD 1 - Calculatrice niv.1 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="tp1.html">
				✏️ TP 1 - Calculatrice niv.2 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="td2.html">
				✍️ TD 2 - Prog. objets niv.1 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="tp2.html">
				✏️ TP 2 - Calculatrice niv.3 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☒</span-->
			<a href="tp3.html">
				✏️ TP 3 - Calculatrice niv.4 ✔️
			</a>
		</div>

		<div class="page_actuelle h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="td3.html">
				✍️ TD 3
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="tp4.html">
				✏️ TP 4 - Prog. objets niv.2 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="tp5.html">
				✏️ TP 5 - Prog. objets niv.3 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="cc1_2022.html">
				📝 Contrôle continu 1
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="tp6.html">
				✏️ TP 6 - Prog. objets niv.4 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="tp7.html">
				✏️ TP 7 - Prog. objets niv.5 ✔️
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="tp_boutique_1.html">
				✏️ TP 8 - Boutique niv.1
			</a>
		</div>

		<div class=" h h1">
			<!--span class="ballot_box">☐</span-->
			<a href="tp_boutique_2.html">
				✏️ TP 9 - Boutique niv.2
			</a>
		</div>

	</div>
	<div id="contenu">
		


		
	<h1 data-nb="22" id="✍️ TD 3">✍️ TD 3</h1>
	
	
	

	
	<div class="exercice">
<h2 data-nb="22.1" id="Question 1">Question 1</h2>
<p>On va s'entraîner aux modules.</p>
<ol>
<li>Créer un module <code>mon_module</code>, pour le moment vide, qui existe en plus du module <code>main</code>.</li>
<li>Dans <code>mon_module</code>, créer la variable <code>salutation</code> qui vaut la <code>str</code> "Bonjour depuis ", suivi du
				<em>véritable</em> nom du module et pas juste le nom du module écrit "en dur" dans la chaîne.
			</li>
<li>Depuis le module <code>main</code>, afficher la variable <code>salutation</code> de <code>mon_module</code>.</li>
</ol>
		
			<div class="correction">
<p class="légende_placée_en_haut">Fichier <code>mon_module.py</code>:</p>
<pre class="line-numbers"><code class="language-python">
					# __name__ est une variable pré-existante dans TOUT module,
					# qui contient automatiquement le nom du module.
					salutation = "Bonjour depuis " + __name__
				</code></pre>
<p class="légende_placée_en_haut">Fichier <code>main.py</code> (dans le même dossier que <code>mon_module.py</code>):</p>
<pre class="line-numbers"><code class="language-python">
					# ↓ On ne met PAS .py après le nom du module.
					import mon_module
					# ↓ On peut accéder ainsi aux variables globales de mon_module
					# (globales signifie définies en dehors de toute fonction, classe ou autre structure)
					print(mon_module.salutation)
				</code></pre>
<p>Si on exécute <code>main.py</code> (ce qui est le cas quand on appuie sur le bouton "Run" dans replit), on obtient:</p>
<pre class="affichage_console"><code>
	Bonjour depuis mon_module
	&gt;</code></pre>
</div>
		
	</div>


	
	<div class="exercice">
<h2 data-nb="22.2" id="Question 2">Question 2</h2>
<p>On va continuer de s'entraîner aux modules.</p>
<p>Dans <code>mon_module</code>, créer la fonction <code>afficher_salutation()</code>, qui ne prend aucun paramètre, ne retourne aucun résultat, et qui
			lors de son exécution affiche la variable <code>salutation</code>.</p>
<p>Depuis le module <code>main</code>, ne plus afficher la variable <code>salutation</code> directement, mais exécuter
			<code>afficher_salutation()</code> de <code>mon_module</code>.</p>
		
			<div class="correction">
<p class="légende_placée_en_haut">Fichier <code>mon_module.py</code>:</p>
<pre class="line-numbers"><code class="language-python">
					salutation = "Bonjour depuis " + __name__

					def afficher_salutation():
						print(salutation)
				</code></pre>
<p class="légende_placée_en_haut">Fichier <code>main.py</code> (dans le même dossier que <code>mon_module.py</code>):</p>
<pre class="line-numbers"><code class="language-python">
					import mon_module
					# ↓ On peut appeler une fonction de mon_module
					mon_module.afficher_salutation()
				</code></pre>
<p>Si on exécute <code>main.py</code> (ce qui est le cas quand on appuie sur le bouton "Run" dans replit), on obtient:</p>
<pre class="affichage_console"><code>
	Bonjour depuis mon_module
	&gt;</code></pre>
</div>
		
	</div>

	
	<div class="exercice">
<h2 data-nb="22.3" id="Question 3">Question 3</h2>
<p>On va continuer de s'entraîner aux modules.</p>
<p>(Cette question donne des instructions spécifiques à replit, pour ceux qui utilisent VSCode ou qui utilisent la console, vous pouvez choisir
			directement quel fichier Python vous exécutez, c'est donc un peu plus simple et vous pouvez ignorer les instructions pour replit. Donc au lieux
			d'utiliser le shell comme dans replit, lancez simplement le fichier Python demandé en utilisant la façon dont vous avez l'habitude.)</p>
<p>A côté de l'onglet "Console" dans replit, vous avez l'onglet "Shell". Dans le shell, vous pouvez écrire des commandes au niveau du système
			d'exploitation (Linux) sur le serveur de replit dans lequel Python est installé. Il vous est ainsi possible d'exécuter la commande de Python. Cette
			commande est bien plus pratique que le bouton "Run" dont vous avez l'habitude. Le bouton Run lance la commande suivante dans le shell: <code>python
				main.py</code>, c'est à dire le mot "python" suivi d'un espace, suivi du nom du fichier .py à exécuter.</p>
<ol>
<li>
				Exécuter depuis l'onglet "Shell" le module <code>main</code>. Vérifiez que vous obtenez bien la même chose qu'avec Run.
				
					<div class="correction">
						Ecrire dans le shell la commande: <code>python main.py</code>. Puis appuyer sur la touche <em>Entrée</em>.
						<pre class="affichage_console"><code>
	Bonjour depuis mon_module
	&gt;</code></pre>
</div>
				
			</li>
<li>Exécuter depuis l'onglet "Shell" le module <code>mon_module</code> (astuce: avec le curseur qui clignote dans le shell, appuyer une ou plusieurs
				fois sur la touche du clavier "flêche du haut" vous permet de remonter dans l'historique des commandes que vous avez entrées précédemment). Vous
				ne devriez rien voir s'afficher, pourquoi?
				
					<div class="correction">
<p>Ecrire dans le shell la commande: <code>python mon_module.py</code>. Puis appuyer sur la touche <em>Entrée</em>.</p>
<p>Rien de spécial ne s'affiche dans le shell.</p>
</div>
				
			</li>
<li>Maintenant en bas de <code>mon_module</code>, ajouter un appel à <code>afficher_salutation()</code>, et re-exécuter <code>mon_module</code>
				depuis le shell. Vous devriez voir la salutation un peu différente. Que voyez-vous, et pourquoi?
				
					<div class="correction">
<p class="légende_placée_en_haut">Fichier <code>mon_module.py</code>:</p>
<pre class="line-numbers"><code class="language-python">
							salutation = "Bonjour depuis " + __name__

							def afficher_salutation():
								print(salutation)

							# ↓ On a rajouté cet appel
							afficher_salutation()
						</code></pre>
<p>Ecrire dans le shell la commande: <code>python mon_module.py</code>. Puis appuyer sur la touche <em>Entrée</em>.</p>
<pre class="affichage_console"><code>
	Bonjour depuis __main__
	&gt;</code></pre>
<p>Le nom du module est <code>__main__</code> désormais parce que c'est le nom que Python donne automatiquement au module qui est
							exécuté en premier, celui par lequel on lance le programme tout entier. Jusqu'à présent dans replit, le fichier qui a toujours été
							exécuté en premier a été <code>main.py</code>, mais Python n'oblige en rien cela, c'est juste une convention de replit. Tout module,
							c'est à dire tout fichier .py, peut être exécuté directement par la commande Python.</p>
</div>
				
			</li>
<li>Exécuter à nouveau <code>main</code>, quelque chose a également changé par rapport à la question 2. Qu'est-ce, et pourquoi?
				
					<div class="correction">
<p>Ecrire dans le shell la commande: <code>python main.py</code>. Puis appuyer sur la touche <em>Entrée</em>.</p>
<pre class="affichage_console"><code>
	Bonjour depuis mon_module
	Bonjour depuis mon_module
	&gt;</code></pre>
<p>On voit DEUX affichages désormais. Le premier est parce que lorsqu'on importe <code>mon_module</code> il est exécuté, donc y compris
							l'appel à <code>afficher_salutation()</code> qu'on a rajouté à la question précédente. Puis le second affichage est parce que dans
							<code>main.py</code> on fait aussi un appel à <code>mon_module.afficher_salutation()</code>.</p>
</div>
				
			</li>
<li><p>Adapter le code dans <code>mon_module</code> pour faire en sorte que:</p>
<ol>
<li>quand on exécute <code>mon_module</code> directement avec la commande python depuis le shell, on voit la salutation</li>
<li>quand on exécute le module <code>main</code>, on ne voit qu'une seule salutation: celle de l'appel de la fonction dans <code>main</code>
</li>
</ol>
<p>(si la salutation est différente dans les 2 cas, c'est normal et on n'en tient pas compte)</p>
				
					<div class="correction">
<p class="légende_placée_en_haut">Fichier <code>mon_module.py</code>:</p>
<pre class="line-numbers"><code class="language-python">
							salutation = "Bonjour depuis " + __name__

							def afficher_salutation():
								print(salutation)

							# ↓ On a rajouté le "if". Le test est: si le nom du module est égal à la str
							# "__main__", cela signifie alors que le module est exécuté directement par la commande
							# python, et alors on exécute la fonction afficher_salutation.
							# Sinon ça signifie que le module est exécuté par importation depuis un autre module,
							# et dans ce cas on ne fait rien de spécial.
							if __name__ == "__main__":
								afficher_salutation()
						</code></pre>
<p>Ecrire dans le shell la commande: <code>python mon_module.py</code>. Puis appuyer sur la touche <em>Entrée</em>.</p>
<pre class="affichage_console"><code>
	Bonjour depuis __main__
	&gt;</code></pre>
<p>Ecrire dans le shell la commande: <code>python main.py</code>. Puis appuyer sur la touche <em>Entrée</em>.</p>
<pre class="affichage_console"><code>
	Bonjour depuis mon_module
	&gt;</code></pre>
</div>
				
			</li>
</ol>
</div>

	
	<div class="exercice">
<h2 data-nb="22.4" id="Question 4">Question 4</h2>
<p>On va s'entraîner aux dictionnaires. Vous pouvez supprimer tout le code précédent dans le module <code>main</code>.</p>
<ol>
<li>Dans le module <code>main</code>, créer un dictionnaire vide et le mettre dans une variable <code>dico_1</code>.</li>
<li>Ajouter la clé <code>"une clé"</code> associée à la valeur <code>"sa valeur"</code></li>
<li>Ajouter la clé <code>8.2</code> associée à la valeur <code>"autre valeur"</code></li>
<li>Ajouter la clé <code>True</code> associée à la valeur <code>50</code></li>
<li>Afficher la <em>valeur</em> des 3 clés, chacune sur une ligne dans la console, sans utiliser de boucle.</li>
<li>Afficher les 3 clés <em>et leur valeur associée</em>, chaque paire sur une ligne dans la console, en utilisant une boucle.</li>
<li>Créer un second dictionnaire qui contient <em>dès le départ</em> les mêmes clés et valeurs que <code>dico_1</code> (utiliser l'écriture litérale
				des dict, ne pas faire de copie) et le mettre dans une variable <code>dico_2</code>.
			</li>
<li>Afficher <code>dico_1</code> en entier sur une ligne et en une seule action, et faire de même pour <code>dico_2</code> sur une seconde ligne.
			</li>
<li>Les comparer à l'affichage et vérifier visuellement qu'ils sont exactement identiques.</li>
<li>Supprimer la clé <code>8.2</code> de <code>dico_1</code>.</li>
<li>Vider entièrement <code>dico_2</code> de tout son contenu en une seule action.</li>
<li>Afficher une nouvelle fois les deux dictionnaires chacun sur une ligne, et vérifier que les suppressions ont bien eu lieu.</li>
</ol>
		
			<div class="correction">
<p class="légende_placée_en_haut">Fichier <code>main.py</code>:</p>
<pre class="line-numbers"><code class="language-python">
					# 1
					dico_1 = {}

					# 2
					dico_1["une clé"] = "sa valeur"

					# 3
					dico_1[8.2] = "autre valeur"

					# 4
					dico_1[True] = 50

					# 5
					print("q5:", dico_1["une clé"])
					print("q5:", dico_1[8.2])
					print("q5:", dico_1[True])

					# 6
					for clé, valeur in dico_1.items():
						print("q6:", clé, "=", valeur)

					# 7
					dico_2 = {"une clé": "sa valeur", 8.2: "autre valeur", True: 50}

					# 8, 9
					print("q9 dico_1:", dico_1)
					print("q9 dico_2:", dico_2)

					# 10
					del dico_1[8.2]

					# 11
					dico_2.clear()

					# 12
					print("q12 dico_1:", dico_1)
					print("q12 dico_2:", dico_2)
				</code></pre>
<pre class="affichage_console"><code>
	q5: sa valeur
	q5: autre valeur
	q5: 50
	q6: une clé = sa valeur
	q6: 8.2 = autre valeur
	q6: True = 50
	q9 dico_1: {'une clé': 'sa valeur', 8.2: 'autre valeur', True: 50}
	q9 dico_2: {'une clé': 'sa valeur', 8.2: 'autre valeur', True: 50}
	q12 dico_1: {'une clé': 'sa valeur', True: 50}
	q12 dico_2: {}
	&gt;</code></pre>
</div>
		
	</div>

	
	<div class="exercice">
<h2 data-nb="22.5" id="Question 5">Question 5</h2>
<p>On va s'entraîner aux paramètres des fonctions. Vous pouvez supprimer tout le code précédent dans le module <code>main</code>.</p>
<p>Dans le module <code>main</code>, déclarer une fonction <code>dire_bonjour</code>, qui lors de son exécution affichera une salutation de la forme:
		</p>
<ul>
<li>une <strong>introduction</strong>, par exemple "Bonjour", "Salut à vous", "Bonsoir", "Hello", etc..</li>
<li>suivi de "Je m'appelle "</li>
<li>suivi d'un <strong>nom</strong>, par exemple "Toto", "Titi", "Superman", "Asterix" etc...</li>
<li>suivi de "Et vous?"</li>
<li>suivi d'une <strong>question</strong>, par exemple "Comment vous appelez-vous?", "Comment allez-vous?", "Vous allez bien?", "Il fait beau chez
				vous?" etc...
			</li>
</ul>
<p>L'introduction, le nom, et la question seront passés en paramètre de la fonction:</p>
<ul>
<li><strong>introduction</strong> doit être obligatoire.</li>
<li><strong>nom</strong> doit être facultatif et avoir pour valeur par défaut "Toto".</li>
<li><strong>question</strong> doit être facultatif et avoir pour valeur par défaut "Quel est votre nom?".</li>
</ul>
<p>A l'aide d'appels à la fonction <code>dire_bonjour</code>, afficher dans la console:</p>
<ol>
<li>"Bonjour. Je m'appelle Toto. Et vous? Quel est votre nom?</li>
<li>"Bonjour. Je m'appelle <strong>Titi</strong>. Et vous? Quel est votre nom?</li>
<li>"Bonjour. Je m'appelle Toto. Et vous? <strong>D'où venez-vous?</strong></li>
<li>"<strong>Salut</strong>. Je m'appelle <strong>Titi</strong>. Et vous? <strong>D'où venez-vous?</strong></li>
</ol>
		
			<div class="correction">
<p class="légende_placée_en_haut">Fichier <code>main.py</code>:</p>
<pre class="line-numbers"><code class="language-python">
					# Deux paramètres ont une valeur par défaut, ce qui permettra de ne pas les
					# spécifier au moment de l'appel de la fonction si leur valeur par défaut convient.
					def dire_bonjour(introduction, nom="Toto", question="Quel est votre nom?"):
						print(introduction + ". Je m'appelle " + nom + ". Et vous? " + question)

					# 1 ↓ On utilise la valeur par défaut des paramètres nom et question
					dire_bonjour("Bonjour")
					# Forme alternative
					# ↓ On peut nommer même les paramètres sans valeur par défaut si on le souhaite
					# dire_bonjour(introduction="Bonjour")

					# 2 ↓ On spécifie une autre valeur que celle par défaut pour le paramètre nom
					# mais on utilise toujours la valeur par défaut du paramètre question.
					dire_bonjour("Bonjour", "Titi")
					# Formes alternatives
					# dire_bonjour("Bonjour", nom="Titi")
					# dire_bonjour(introduction="Bonjour", nom="Titi")
					# ↓ L'ordre des paramètres nommés ne compte pas
					# dire_bonjour(nom="Titi", introduction="Bonjour")

					# 3
					dire_bonjour("Bonjour", question="D'où venez-vous?")
					# Forme alternative
					# dire_bonjour(introduction="Bonjour", question="D'où venez-vous?")

					# 4
					dire_bonjour("Salut", "Titi", "D'où venez-vous?")
					# Forme alternative
					# ↓ L'ordre des paramètres nommés ne compte pas,
					# mais il reste primordial pour ceux non nommés.
					# dire_bonjour("Salut", question="D'où venez-vous?", nom="Titi")
				</code></pre>
<pre class="affichage_console"><code>
	Bonjour. Je m'appelle Toto. Et vous? Quel est votre nom?
	Bonjour. Je m'appelle Titi. Et vous? Quel est votre nom?
	Bonjour. Je m'appelle Toto. Et vous? D'où venez-vous?
	Salut. Je m'appelle Titi. Et vous? D'où venez-vous?
	&gt;</code></pre>
</div>
		
	</div>

	
	<div class="exercice">
<h2 data-nb="22.6" id="Question 6">Question 6</h2>
<p>On va s'entraîner à la visibilité et portée des variables. Vous pouvez supprimer tout le code précédent dans les modules <code>main</code> et <code>mon_module</code>.
		</p>
<ol>
<li>Dans le module <code>main</code>, créer une variable globale <code>var_1</code> qui vaut 10.</li>
<li>Dans le module <code>main</code>, créer une variable globale <code>var_2</code> qui vaut "cool".</li>
<li>Dans le module <code>main</code>, créer une fonction <code>hello</code> qui prend 2 paramètres <code>a</code> et <code>b</code>, et qui dans son
				corps crée une variable <em>locale</em> <code>var_1</code> qui vaut 1, puis retrouve toutes ses variables locales avec la fonction prévue pour
				ça et les affiche.
			</li>
<li>Dans le module <code>mon_module</code>, créer une variable globale <code>a</code> qui vaut 20.</li>
<li>Dans le module <code>mon_module</code>, créer une variable globale <code>b</code> qui vaut <code>False</code>.</li>
<li>Dans le module <code>mon_module</code>, créer une fonction <code>bidule</code> prend 2 paramètres <code>x</code> et <code>y</code>, et
				qui dans son corps:
				<ol>
<li>déclare une variable locale <code>aa</code> qui vaut 30</li>
<li>puis assigne la somme de <code>x</code>, <code>y</code> et <code>aa</code> à la variable globale <code>a</code></li>
<li>puis retrouve toutes ses variables locales avec la fonction prévue pour ça et les affiche</li>
</ol>
</li>
<li>Depuis <code>main</code>, afficher en une seule action tous les identifiants globaux, ainsi que leur valeur. Vérifiez que vous retrouvez bien
				tout ce que vous avez créé dans <code>main</code>.
			</li>
<li>Faire de même mais pour le module <code>mon_module</code>. Vérifiez que vous retrouvez bien tout ce que vous avez créé dans
				<code>mon_module</code></li>
<li>Appeler la fonction <code>main.hello</code>. Quels identifiants voyez-vous? Est-ce normal?</li>
<li>La variable globale <code>main.var_1</code> a-t'elle été modifiée? Pourquoi?</li>
<li>Appeler la fonction <code>mon_module.bidule</code>. Quels identifiants voyez-vous? Est-ce normal?</li>
<li>La variable globale <code>mon_module.a</code> a-t'elle été modifiée? Pourquoi?</li>
</ol>
		
			<div class="correction">
<p class="légende_placée_en_haut">Fichier <code>main.py</code>:</p>
<pre class="line-numbers"><code class="language-python">
					var_1 = 10
					var_2 = "cool"
					def hello(a, b):
						# ↓ Cette variable est locale, et est différente de la globale var_1
						var_1 = 1
						print("Variables locales dans hello:", locals())

					print("Variables globales dans main AVANT l'appel à hello():", globals())

					hello(5, 6)
					print("Variables globales dans main APRÈS l'appel à hello():", globals())
				</code></pre>
<p>Ecrire dans le shell la commande: <code>python main.py</code>. Puis appuyer sur la touche <em>Entrée</em>.</p>
<pre class="affichage_console"><code>
	Variables globales dans main <strong>AVANT</strong> l'appel à hello(): {
		'__name__': '__main__', '__doc__': None, '__package__': None,
		'__loader__': &lt;_frozen_importlib_external.SourceFileLoader object at 0x7f128c8ea7c0&gt;,
		'__spec__': None, '__annotations__': {}, '__builtins__': &lt;module 'builtins' (built-in)&gt;,
		'__file__': 'main.py', '__cached__': None,
		<span style="background-color:hsla(150, 50%, 50%, 0.5)"><strong>'var_1': 10</strong>, 'var_2': 'cool', 'hello': &lt;function hello at 0x7f128b281820&gt;</span>
		}
	Variables locales dans hello: {
		<span style="background-color:hsla(150, 50%, 50%, 0.5)">'a': 5, 'b': 6, <strong>'var_1': 1</strong></span>
		}
	Variables globales dans main <strong>APRÈS</strong> l'appel à hello(): {
		'__name__': '__main__', '__doc__': None, '__package__': None,
		'__loader__': &lt;_frozen_importlib_external.SourceFileLoader object at 0x7f128c8ea7c0&gt;,
		'__spec__': None, '__annotations__': {}, '__builtins__': &lt;module 'builtins' (built-in)&gt;,
		'__file__': 'main.py', '__cached__': None,
		<span style="background-color:hsla(150, 50%, 50%, 0.5)"><strong>'var_1': 10</strong>, 'var_2': 'cool', 'hello': &lt;function hello at 0x7f128b281820&gt;</span>
		}
	&gt;</code></pre>
<p>(↑ L'affichage a été un peu formatté pour mieux voir l'information qui nous intéresse)</p>
<p>On peut voir que la fonction <code>hello()</code> a 3 variables locales: <code>a</code>, <code>b</code> et <code>var_1</code>. Et on note
					aussi que <code>var_1</code> dans <code>hello()</code> vaut 1, mais <code>var_1</code> globale vaut toujours 10, preuve que ce sont deux
					variables différentes, même si elles ont le même nom, elles n'existent pas dans le même espace de nommage.</p>
<p>Remarquez aussi que les paramètres <code>a</code> et <code>b</code> sont aussi considérés comme des variables locales au sein de leur
					fonction. </p>
<hr/>
<p class="légende_placée_en_haut">Fichier <code>mon_module.py</code>:</p>
<pre class="line-numbers"><code class="language-python">
					a = 20
					b = False

					def bidule(x, y):
						# ↓ On déclare qu'on veut modifier la variable globale a depuis l'intérieur de la fonction
						# grâce au mot-clé "global". Si on aurait écrit directement a = ..., alors ça créerait une variable locale a.
						global a
						aa = 30
						a = x + y +aa
						print("Variables locales dans bidule:", locals())

					print("Variables globales dans mon_module AVANT l'appel à bidule():", globals())

					bidule(5, 6)
					print("Variables globales dans mon_module APRÈS l'appel à bidule():", globals())
				</code></pre>
<p>Ecrire dans le shell la commande: <code>python mon_module.py</code>. Puis appuyer sur la touche <em>Entrée</em>.</p>
<pre class="affichage_console"><code>
	Variables globales dans mon_module AVANT l'appel à bidule(): {
		'__name__': '__main__', '__doc__': None, '__package__': None,
		'__loader__': &lt;_frozen_importlib_external.SourceFileLoader object at 0x7f44b41867c0&gt;,
		'__spec__': None, '__annotations__': {}, '__builtins__': &lt;module 'builtins' (built-in)&gt;,
		'__file__': 'mon_module.py', '__cached__': None,
		<span style="background-color:hsla(150, 50%, 50%, 0.5)"><strong>'a': 20</strong>, 'b': False, 'bidule': &lt;function bidule at 0x7f44b2b1dca0&gt;</span>
		}
	Variables locales dans bidule: {
		<span style="background-color:hsla(150, 50%, 50%, 0.5)">'x': 5, 'y': 6, 'aa': 30</span>
		}
	Variables globales dans mon_module APRÈS l'appel à bidule(): {
		'__name__': '__main__', '__doc__': None, '__package__': None,
		'__loader__': &lt;_frozen_importlib_external.SourceFileLoader object at 0x7f44b41867c0&gt;,
		'__spec__': None, '__annotations__': {}, '__builtins__': &lt;module 'builtins' (built-in)&gt;,
		'__file__': 'mon_module.py', '__cached__': None,
		<span style="background-color:hsla(150, 50%, 50%, 0.5)"><strong>'a': 41</strong>, 'b': False, 'bidule': &lt;function bidule at 0x7f44b2b1dca0&gt;</span>
		}
	&gt;</code></pre>
<p>(↑ L'affichage a été un peu formatté pour mieux voir l'information qui nous intéresse)</p>
<p>On remarque qu'après l'appel à <code>bidule()</code> la variable globale <code>a</code> a bien été modifiée, et que celle-ci n'apparaît pas
					dans liste des variables <em>locales</em> à <code>bidule()</code>.</p>
<hr/>
<p>Pour répondre aux questions de l'exercice:</p>
<p>9. Lors de l'appel à <code>main.hello()</code> on voit les identifiants "a", "b" et "var_1", et c'est normal car tous trois sont des
					variables locales, et c'est ce qu'on voulait afficher avec l'appel à la fonction prédéfinie <code>locals()</code>.</p>
<p>10. Non la variable globale <code>main.var_1</code> n'a pas été modifiée lors de l'appel à <code>main.hello()</code> et c'est normal, car
					toute variable globale est accessible en lecture depuis l'intérieur d'une fonction, mais pas en écriture. Lorsqu'on tente de modifier une
					variable globale depuis l'intérieur d'une fonction cela crée automatiquement une variable locale portant le même nom que la globale.</p>
<p>11. Lors de l'appel à <code>mon_module.bidule()</code> on voit les identifiants "x", "y" et "aa", et c'est normal car tous trois sont des
					variables locales, et c'est ce qu'on voulait afficher avec l'appel à la fonction prédéfinie <code>locals()</code>. On ne voit pas la
					variable <code>a</code> car c'est une variable globale.</p>
<p>12. Oui <code>a</code> a été modifiée lors de l'appel à <code>mon_module.bidule()</code> car on l'a bien déclarée comme variable globale à
					l'intérieur de la fonction avant de la modifier.</p>
</div>
		
	</div>

	
	<div class="exercice">
<h2 data-nb="22.7" id="Question 7">Question 7</h2>
<p>On va s'entraîner à la différence entre la modification des variables elles-mêmes et la modification des objets pointés par les variables. Vous
			pouvez supprimer tout le code précédent dans les modules <code>main</code> et <code>mon_module</code>. Dans le module <code>main</code>:</p>
<ol>
<li>Déclarer une liste vide et la mettre dans la variable globale <code>liste_globale</code></li>
<li>Créer la fonction <code>ajout_liste</code> qui prend un paramètre (qui sera de n'importe quel type de donnée), et qui à chaque appel ajoute la
				valeur de son paramètre à la fin de <code>liste_globale</code>. La fonction ne retourne rien.
			</li>
<li>Appelez plusieurs fois <code>ajout_liste()</code> et vérifier ensuite que ça fonctionne, c'est-à-dire la liste pointée par la variable globale
				<code>liste_globale</code> a bien les éléments ajoutés dedans après les appels.
			</li>
<li>Déclarer la variable globale <code>nb_global</code> qui vaut 0</li>
<li>Créer la fonction <code>ajout_nombre_1</code> qui prend un paramètre (qui devra être un <code>int</code> ou <code>float</code>), et qui à chaque
				appel ajoute la valeur de son paramètre à <code>nb_global</code>. La fonction ne retourne rien.
			</li>
<li>Créer la fonction <code>ajout_nombre_2</code> qui prend un paramètre (qui devra être un <code>int</code> ou <code>float</code>), et qui ne
				modifie pas <code>nb_global</code>, mais retourne la somme de <code>nb_global</code> + celle de son paramètre.
			</li>
<li>Appeler <code>ajout_nombre_1()</code> et vérifier ensuite que ça fonctionne, c'est-à-dire <code>nb_global</code> est modifié correctement avec
				la somme.
			</li>
<li>Essayer de faire de même avec <code>ajout_nombre_2()</code>. Quelle différence y-a t'il avec <code>ajout_nombre_1()</code>, et pourquoi?</li>
<li>Quelle est la différence d'approche entre <code>ajout_liste()</code> et les 2 fonctions <code>ajout_nombre()</code> pour modifier la valeur de
				variables globales, et pourquoi cette différence?
			</li>
</ol>
		
			<div class="correction">
<p class="légende_placée_en_haut">Fichier <code>main.py</code>:</p>
<pre class="line-numbers"><code class="language-python">
					liste_globale = []

					def ajout_liste(valeur):
						liste_globale.append(valeur)

					# 3
					ajout_liste("Coucou")
					ajout_liste("Bonjour")
					print(liste_globale)

					nb_global = 0
					def ajout_nombre_1(nb):
						global nb_global
						nb_global += nb
					def ajout_nombre_2(nb):
						return nb_global + nb

					print("1:", nb_global)
					# 7
					ajout_nombre_1(1)
					print("2:", nb_global)
					# 8
					nb_global = ajout_nombre_2(1)
					print("3:", nb_global)
				</code></pre>
<pre class="affichage_console"><code>
	['Coucou', 'Bonjour']
	1: 0
	2: 1
	3: 2
	&gt;</code></pre>
<p>8. <code>ajout_nombre_2()</code> utilise la variable globale <code>nb_global</code> mais ne la modifie pas. <code>ajout_nombre_1()</code> par
					contre la modifie (avec <code>+=</code>), donc il faut utiliser le mot-clé <code>global</code>. Comme <code>ajout_nombre_2()</code> ne
					modifie pas <code>nb_global</code>, si on veut le faire on est obligé de le faire en dehors de la fonction, comme à la ligne 23 par exemple,
					contrairement à <code>ajout_nombre_1()</code> lors de son appel à la ligne 20.</p>
<p>9. Les deux fonctions <code>ajout_liste()</code> et <code>ajout_nombre_1()</code> semblent faire la même chose: elles modifient la valeur des
					variables globales, non? FAUX! Ils y a une GROSSE différence entre les deux.</p>
<p>Remarquez que le mot-clé <code>global</code> dans <code>ajout_liste()</code> n'est pas présent, hors on voit dans l'affichage que <code>liste_globale</code>
					est bien modifiée lors des appels à la fonction. Il est primordial de comprendre que <code>ajout_liste()</code> ne modifie pas la VARIABLE,
					mais l'OBJET pointé par la variable à travers sa méthode <code>append()</code>. <code>liste_globale</code> pointe toujours vers la même
					liste en mémoire, la variable n'est donc pas modifiée, mais l'objet liste lui s'est modifié en s'ajoutant un nouvel élément.</p>
<p>Aurait-on pu faire pareil avec <code>ajout_nombre_1()</code>? Ne pas modifier la variable mais plutôt l'objet nombre vers lequel il pointe?
					Non, car rappelez-vous, une liste (de type <code>list</code>) est muable, mais les objets de type <code>int</code> et <code>float</code>
					sont immuables, ils ne peuvent donc jamais être modifiés. Si on veut qu'une variable pointe vers un nombre différent, on ne modifie pas
					l'objet en question contrairement à une liste, mais on fait pointer la variable vers un tout autre objet nombre en mémoire, avec
					l'instruction <code>=</code>. </p>
</div>
		
	</div>

	
	<div class="exercice">
<h2 data-nb="22.8" id="Question 8">Question 8</h2>
<p>Vous pouvez supprimer tout le code précédent dans les modules <code>main</code> et <code>mon_module</code>. Dans le module <code>main</code>:</p>
<ol>
<li>importer le module <code>math</code></li>
<li>afficher la variable globale <code>pi</code> du module <code>math</code></li>
<li>tester la fonction <code>degrees</code> du module <code>math</code>, qui change des radians passés en paramètres, vers des degrés</li>
<li>tester la fonction <code>radians</code>, qui change des degrés en radians</li>
<li>tester les fonctions <code>cos</code> et <code>sin</code>. Les paramètres sont en radians.</li>
<li>tester la fonction <code>pow</code> qui donne le premier paramètre à la puissance du second paramètre. Peut-on calculer la puissance d'un nombre
				autrement?
			</li>
<li>tester la fonction <code>sqrt</code> qui donne la racine carrée de son paramètre. Peut-on avoir la racine carrée d'un nombre autrement? Et la
				racine cubique?
			</li>
</ol>
		
			<div class="correction">
<p class="légende_placée_en_haut">Fichier <code>main.py</code>:</p>
<pre class="line-numbers"><code class="language-python">
					# 1
					import math
					# 2
					print("2:", math.pi)
					# 3
					# ↓ On peut facilement le calculer soi-même sans passer par cette fonction. Comment?
					print("3:", math.degrees(math.pi))
					# 4
					# ↓ On peut facilement le calculer soi-même sans passer par cette fonction. Comment?
					print("4:", math.radians(180))
					# 5
					# ↓ Le résultat se rapproche de zéro, mais n'est pas exactement zéro.
					# Cela est dû à la représentation interne des nombres à virgules qui a une précision limitée.
					print("5:", math.cos(math.pi/2))
					print("5:", math.sin(math.pi/2))
					# 6
					print("6:", math.pow(2, 3))
					print("6:", 2**3) # cette version est plus courte et revient au même
					# 7
					print("7:", math.sqrt(16))
					print("7:", 16**0.5) # cette version est plus courte et revient au même
					print("7:", 8**(1/3)) # pour avoir la racine cubique on fait puissance 1/3
				</code></pre>
<pre class="affichage_console"><code>
	2: 3.141592653589793
	3: 180.0
	4: 3.141592653589793
	5: 6.123233995736766e-17
	5: 1.0
	6: 8.0
	6: 8
	7: 4.0
	7: 4.0
	7: 2.0
	&gt;</code></pre>
</div>
		
	</div>

	
	<div class="exercice">
<h2 data-nb="22.9" id="Question 9">Question 9</h2>
<p>Dans un nouveau fichier Python, créer un programme qui crée un nouveau fichier texte, et y écrit le texte "Bonjour depuis Python" dedans.</p>
<p>Puis à l'aide d'une boucle, écrire ce texte 1000 fois dans le fichier texte qui doit donc avoir au final 1000 lignes.</p>
</div>

	















		




























		<div class="nav_arrows" style=" margin-bottom: 1em;">

			<div style="text-align: center; opacity: 0.5; font-size: small">

			</div>
		</div>

	</div>

	
		<style>
			@media only screen and (min-width: 70em) {
				#side_nav_bar {
					width: 25vw;
				}

				#contenu {
					width: 75vw;
				}
			}
		</style>
	


</div>
  
<script src="prism.js"></script>

<script>
	if (document.URL.indexOf("localhost") === -1) {
		//console.log("pas localhost");
		document.querySelector("link[rel = 'icon']").setAttribute("href", "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='200' height='200' viewBox='0 0 100 100' style='display:block; margin:auto; padding: 0 0 1em 0;'%3E%3Cstyle%3E text %7B text-align: center; fill: white; text-anchor: middle; font-size: 11pt; %3C/style%3E%3C!--	%3Crect fill='hsl(000,50%25, 50%25)' x='0' y='0' width='100' height='100'%3E%3C/rect%3E--%3E%3Crect fill='hsl(200,50%25, 50%25)' x='0' y='0' width='100' height='100'%3E%3C/rect%3E%3Ctext x='50' y='75' style='font-size: 50pt;' id='t'%3E 🐍 %3C/text%3E%3C!--	%3Canimate--%3E%3C!-- xlink:href='%23t'--%3E%3C!-- attributeName='y'--%3E%3C!-- calcMode='spline'--%3E%3C!-- values='60; 90; 60'--%3E%3C!-- keyTimes='0; 0.5; 1'--%3E%3C!-- keySplines='--%3E%3C!-- .42 0 1 1;--%3E%3C!-- 0 0 .59 1;'--%3E%3C!-- dur='2s'--%3E%3C!-- fill='freeze'--%3E%3C!-- repeatCount='indefinite'/%3E--%3E%3C/svg%3E");
	} else {
		//console.log("localhost");
	}
	// On supprime la première ligne des <pre><code> qui est considérée toujours vide et inutile
	const codes = document.querySelectorAll('pre[class="affichage_console"] code');
	
	codes.forEach(function (el) {
		// Attention: modifier textContent ou innerText d'un élément détruit tous ses éléments enfant :(
		//el.textContent = el.textContent.replace(/^\n/, '');
		// On modifie donc le premie noeud texte uniquement
		el.childNodes[0].textContent = el.childNodes[0].textContent.replace(/^\n/, ''); // suppose que c'est un élément texte
	});

	// On ajoute un <br> avant et après chaque <pre>
	let pres = document.querySelectorAll('pre, .exercices div.noté');
	pres.forEach(function (el) {
		el.parentNode.insertBefore(document.createElement('div'), el);
		el.parentNode.insertBefore(document.createElement('div'), el.nextSibling);
	});

	// On ajoute 'Affichage' avant chaque affichage console
	pres = document.querySelectorAll('pre[class="affichage_console"]');
	pres.forEach(function (el) {
		const p = document.createElement('p');
		p.innerHTML = `<small>↓ Affichage dans la console (ou dans le shell, selon où vous lancez l'exécution)<mall>`;
		p.classList.add("légende_placée_en_haut");
		el.parentNode.insertBefore(p, el);
	});

	// Cacher corrections dans les TD / TP, et permettre de les afficher
	let divs_correction = document.querySelectorAll('div[class="correction"]');
	divs_correction.forEach(function (div) {
		div.classList.add("correction_hidden");
		const p = document.createElement('p');
		p.innerHTML = `<span class="correction_lien_à_cliquer">📝 Afficher / cacher correction ✓</span>`;
		p.onclick = function (evt) {
			div.classList.toggle("correction_hidden");
		};
		div.parentNode.insertBefore(p, div);
	});
</script>
</body>
</html>